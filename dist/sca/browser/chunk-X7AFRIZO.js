import{$a as w,Ab as O,Ba as Re,Bb as ie,Cb as et,Da as fe,Db as Ee,Eb as Pe,Ga as z,Ha as Ue,Ia as k,Jb as tt,Lb as it,Ma as $,Mb as nt,Na as p,Nb as me,Oa as Ke,P as pe,Qb as ot,Rb as rt,Sb as ce,Ta as le,Tb as de,Ua as ke,Ub as Ve,Va as C,W as Te,Wa as y,X as Ye,Y as De,Ya as Ie,Yb as ne,Za as Q,_ as b,_a as N,ab as m,bb as _,bc as K,c as Qe,ca as u,cb as E,cc as st,d as ve,da as g,dc as he,ec as T,fb as Ze,fc as V,ga as qe,gb as I,ha as Se,hb as Je,j as Ne,ja as ae,ka as J,mb as x,na as q,ob as c,oc as at,pb as te,qb as j,rb as B,sb as U,ta as He,tb as H,tc as Fe,u as Z,ub as R,uc as oe,va as je,vc as _e,xa as h,xb as D,ya as W,yb as P,zb as L}from"./chunk-QGBYADUF.js";import{a as Y,b as xe}from"./chunk-GAL4ENT6.js";var Oe=["*"],xt=()=>[];function vt(n,o){if(n&1&&E(0,"div",5),n&2){let r=c().$implicit;P("width",(r==null?null:r.width)+"px")}}function Tt(n,o){}function Dt(n,o){if(n&1&&$(0,Tt,0,0,"ng-template",4),n&2){let r=c().$implicit;w("ngTemplateOutlet",r.ghostCellTemplate)}}function St(n,o){if(n&1&&C(0,vt,1,2,"div",3)(1,Dt,1,1,null,4),n&2){let r=o.$implicit;y(r.ghostCellTemplate?1:0)}}function Ht(n,o){if(n&1&&(m(0,"div",2),Q(1,St,2,1,null,null,Ie),_()),n&2){let r=c();P("height",r.rowHeight+"px"),h(),N(r.columns)}}var Rt=["cellTemplate"],kt=["ghostLoaderTemplate"],It=n=>({cellContext:n}),Et=n=>[n];function Pt(n,o){if(n&1){let r=I();m(0,"label",3)(1,"input",5),ce(2,"async"),x("click",function(t){u(r);let i=c(2);return g(i.onCheckboxChange(t))}),_()()}if(n&2){let r=c(2);h(),w("disabled",de(2,2,r.disable$))("checked",r.isSelected)}}function Vt(n,o){n&1&&E(0,"i",8)}function Ft(n,o){n&1&&E(0,"i",9)}function Mt(n,o){n&1&&E(0,"i",10)}function zt(n,o){if(n&1){let r=I();m(0,"button",7),x("click",function(){u(r);let t=c(3);return g(t.onTreeAction())}),m(1,"span"),C(2,Vt,1,0,"i",8),C(3,Ft,1,0,"i",9),C(4,Mt,1,0,"i",10),_()()}if(n&2){let r=c(3);w("disabled",r.treeStatus==="disabled"),le("aria-label",r.treeStatus),h(2),y(r.treeStatus==="loading"?2:-1),h(),y(r.treeStatus==="collapsed"?3:-1),h(),y(r.treeStatus==="expanded"||r.treeStatus==="disabled"?4:-1)}}function Bt(n,o){}function At(n,o){if(n&1&&$(0,Bt,0,0,"ng-template",4),n&2){let r=c(3);w("ngTemplateOutlet",r.column.treeToggleTemplate)("ngTemplateOutletContext",me(2,It,r.cellContext))}}function Wt(n,o){if(n&1&&C(0,zt,5,5,"button",6)(1,At,1,4,null,4),n&2){let r=c(2);y(r.column.treeToggleTemplate?1:0)}}function $t(n,o){if(n&1&&E(0,"span",11),n&2){let r=c(3);w("title",r.sanitizedValue)("innerHTML",r.value,He)}}function Lt(n,o){if(n&1&&(m(0,"span",12),ie(1),_()),n&2){let r=c(3);w("title",r.sanitizedValue),h(),et(r.value)}}function Ot(n,o){if(n&1&&C(0,$t,1,2,"span",11)(1,Lt,2,2,"span",12),n&2){let r=c(2);y(r.column.bindAsUnsafeHtml?0:1)}}function Xt(n,o){}function Gt(n,o){if(n&1&&$(0,Xt,0,0,"ng-template",4,0,Ve),n&2){let r=c(2);w("ngTemplateOutlet",r.column.cellTemplate)("ngTemplateOutletContext",r.cellContext)}}function Qt(n,o){if(n&1&&(m(0,"div",2),C(1,Pt,3,4,"label",3),C(2,Wt,2,1),C(3,Ot,2,1)(4,Gt,2,2,null,4),_()),n&2){let r=c();P("margin-left",r.calcLeftMargin(r.column,r.row),"px"),h(),y(r.column.checkboxable&&(!r.displayCheck||r.displayCheck(r.row,r.column,r.value))?1:-1),h(),y(r.column.isTreeColumn?2:-1),h(),y(r.column.cellTemplate?4:3)}}function Nt(n,o){if(n&1&&E(0,"ghost-loader",13),n&2){let r=c(2);w("columns",me(2,Et,r.column))("pageSize",1)}}function Yt(n,o){if(n&1&&C(0,Nt,1,4,"ghost-loader",13),n&2){let r=c();y(r.ghostLoadingIndicator?0:-1)}}var ut=(n,o)=>o.type,gt=(n,o)=>o.$$id;function qt(n,o){if(n&1){let r=I();m(0,"datatable-body-cell",2),x("activate",function(t){let i=u(r).$index,s=c(2);return g(s.onActivate(t,i))})("treeAction",function(){u(r);let t=c(2);return g(t.onTreeAction())}),_()}if(n&2){let r=o.$implicit,e=c(2);w("row",e.row)("group",e.group)("expanded",e.expanded)("isSelected",e.isSelected)("rowIndex",e.rowIndex)("column",r)("rowHeight",e.rowHeight)("displayCheck",e.displayCheck)("disable$",e.disable$)("treeStatus",e.treeStatus)("ghostLoadingIndicator",e.ghostLoadingIndicator)}}function jt(n,o){if(n&1&&(m(0,"div"),ce(1,"async"),Q(2,qt,1,11,"datatable-body-cell",1,gt),_()),n&2){let r=o.$implicit,e=c();O(tt("datatable-row-",r.type," datatable-row-group")),P("width",e._columnGroupWidths[r.type],"px"),L("row-disabled",e.disable$?de(1,7,e.disable$):!1),h(2),N(r.columns)}}var Ut=["select"];function Kt(n,o){if(n&1){let r=I();m(0,"div")(1,"label",6)(2,"input",7,0),x("change",function(){u(r);let t=D(3),i=c(2);return g(i.onCheckboxChange(t.checked))}),_()()()}if(n&2){let r=c(2);h(2),w("checked",r.selectedGroupRows().length===r.group().value.length)}}function Zt(n,o){}function Jt(n,o){if(n&1&&(m(0,"div",3)(1,"div",4),C(2,Kt,4,1,"div"),$(3,Zt,0,0,"ng-template",5),_()()),n&2){let r=c();P("height",r.groupHeaderRowHeight,"px")("width",r.innerWidth,"px"),h(2),y(r.groupHeader.checkboxable?2:-1),h(),w("ngTemplateOutlet",r.groupHeader.template)("ngTemplateOutletContext",r.groupContext)}}function ei(n,o){n&1&&j(0)}function ti(n,o){}function ii(n,o){if(n&1&&(m(0,"div",8),$(1,ti,0,0,"ng-template",5),_()),n&2){let r=c();P("height",r.detailRowHeight,"px"),h(),w("ngTemplateOutlet",r.rowDetail.template)("ngTemplateOutletContext",r.rowContext)}}function ni(n,o){if(n&1&&E(0,"datatable-body-row",0),n&2){let r=c();w("innerWidth",r.innerWidth)("offsetX",r.offsetX)("columns",r._internalColumns)("rowHeight",r.rowHeight)("row",r.summaryRow)("rowIndex",-1)}}var pt=[[["","loading-indicator",""]],[["","empty-content",""]]],ft=["[loading-indicator]","[empty-content]"],oi=(n,o,r,e)=>({template:n,rowTemplate:o,row:r,index:e});function ri(n,o){n&1&&(m(0,"div",4)(1,"div",9),j(2),_()())}function si(n,o){if(n&1&&E(0,"ghost-loader",5),n&2){let r=c();w("columns",r.columns)("pageSize",r.pageSize)("rowHeight",r.rowHeight)("ghostBodyHeight",r.bodyHeight)}}function ai(n,o){if(n&1&&E(0,"datatable-summary-row",11),n&2){let r=c(2);w("rowHeight",r.summaryHeight)("offsetX",r.offsetX)("innerWidth",r.innerWidth)("rows",r.rows)("columns",r.columns)}}function li(n,o){n&1&&Ze(0)}function ci(n,o){if(n&1&&$(0,li,1,0,"ng-container",15),n&2){let r=c(),e=r.$implicit,t=r.$index,i=D(5),s=c(2);w("rowDefInternal",ot(1,oi,s.rowDefTemplate,i,e,t))}}function di(n,o){if(n&1){let r=I();m(0,"datatable-body-row",17,3),x("treeAction",function(){u(r);let t=c(2).$implicit,i=c(2);return g(i.onTreeAction(t))})("activate",function(t){u(r);let i=c(2).$index,s=c(2),a=D(3);return g(a.onActivate(t,s.indexes().first+i))})("drop",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.drop(t,s,i))})("dragover",function(t){u(r);let i=c(2).$implicit,s=c(2);return g(s.dragOver(t,i))})("dragenter",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.dragEnter(t,s,i))})("dragleave",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.dragLeave(t,s,i))})("dragstart",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.drag(t,s,i))})("dragend",function(t){u(r);let i=c(2).$implicit,s=c(2);return g(s.dragEnd(t,i))}),_()}if(n&2){let r=c(2).$implicit,e=D(1),t=c(2),i=D(3);w("disable$",e.disable$)("isSelected",i.getRowSelected(r))("innerWidth",t.innerWidth)("offsetX",t.offsetX)("columns",t.columns)("rowHeight",t.getRowHeight(r))("row",r)("rowIndex",t.getRowIndex(r))("expanded",t.getRowExpanded(r))("rowClass",t.rowClass)("displayCheck",t.displayCheck)("treeStatus",r==null?null:r.treeStatus)("ghostLoadingIndicator",t.ghostLoadingIndicator)("draggable",t.rowDraggable)("verticalScrollVisible",t.verticalScrollVisible)}}function hi(n,o){if(n&1&&C(0,di,2,15,"datatable-body-row",16),n&2){let r=c().$implicit,e=c(2);y(e.isRow(r)?0:-1)}}function ui(n,o){if(n&1){let r=I();m(0,"datatable-body-row",17,3),x("treeAction",function(){u(r);let t=c(2).$implicit,i=c(2);return g(i.onTreeAction(t))})("activate",function(t){u(r);let i=c(2).$index,s=c(2),a=D(3);return g(a.onActivate(t,s.indexes().first+i))})("drop",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.drop(t,s,i))})("dragover",function(t){u(r);let i=c(2).$implicit,s=c(2);return g(s.dragOver(t,i))})("dragenter",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.dragEnter(t,s,i))})("dragleave",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.dragLeave(t,s,i))})("dragstart",function(t){u(r);let i=D(1),s=c(2).$implicit,a=c(2);return g(a.drag(t,s,i))})("dragend",function(t){u(r);let i=c(2).$implicit,s=c(2);return g(s.dragEnd(t,i))}),_()}if(n&2){let r=c(2).$implicit,e=D(1),t=c(2),i=D(3);w("disable$",e.disable$)("isSelected",i.getRowSelected(r))("innerWidth",t.innerWidth)("offsetX",t.offsetX)("columns",t.columns)("rowHeight",t.getRowHeight(r))("row",r)("rowIndex",t.getRowIndex(r))("expanded",t.getRowExpanded(r))("rowClass",t.rowClass)("displayCheck",t.displayCheck)("treeStatus",r==null?null:r.treeStatus)("ghostLoadingIndicator",t.ghostLoadingIndicator)("draggable",t.rowDraggable)("verticalScrollVisible",t.verticalScrollVisible)}}function gi(n,o){if(n&1&&C(0,ui,2,15,"datatable-body-row",16),n&2){let r=c().$implicit,e=c(2);y(e.isRow(r)?0:-1)}}function pi(n,o){if(n&1){let r=I();m(0,"datatable-body-row",19,3),x("activate",function(t){let i=u(r).$index;c(4);let s=D(3);return g(s.onActivate(t,i))})("drop",function(t){let i=u(r).$implicit,s=D(1),a=c(4);return g(a.drop(t,i,s))})("dragover",function(t){let i=u(r).$implicit,s=c(4);return g(s.dragOver(t,i))})("dragenter",function(t){let i=u(r).$implicit,s=D(1),a=c(4);return g(a.dragEnter(t,i,s))})("dragleave",function(t){let i=u(r).$implicit,s=D(1),a=c(4);return g(a.dragLeave(t,i,s))})("dragstart",function(t){let i=u(r).$implicit,s=D(1),a=c(4);return g(a.drag(t,i,s))})("dragend",function(t){let i=u(r).$implicit,s=c(4);return g(s.dragEnd(t,i))}),_()}if(n&2){let r=o.$implicit,e=c(2).$implicit,t=D(1),i=c(2),s=D(3);w("disable$",t.disable$)("isSelected",s.getRowSelected(r))("innerWidth",i.innerWidth)("offsetX",i.offsetX)("columns",i.columns)("rowHeight",i.getRowHeight(r))("row",r)("group",e.value)("rowIndex",i.getRowIndex(r))("expanded",i.getRowExpanded(r))("rowClass",i.rowClass)("ghostLoadingIndicator",i.ghostLoadingIndicator)("draggable",i.rowDraggable)("verticalScrollVisible",i.verticalScrollVisible)}}function fi(n,o){if(n&1&&Q(0,pi,2,14,"datatable-body-row",18,ke().rowTrackingFn,!0),n&2){let r=c().$implicit;N(r.value)}}function mi(n,o){if(n&1){let r=I();m(0,"datatable-row-wrapper",14,1),x("rowContextmenu",function(t){u(r);let i=c(2);return g(i.rowContextmenu.emit(t))}),C(2,ci,1,6,"ng-container")(3,hi,1,1),$(4,gi,1,1,"ng-template",null,2,Ve),C(6,fi,2,0),_()}if(n&2){let r=o.$implicit,e=o.$index,t=c(2);w("groupedRows",t.groupedRows)("innerWidth",t.innerWidth)("ngStyle",t.rowsStyles()[e])("rowDetail",t.rowDetail)("groupHeader",t.groupHeader)("offsetX",t.offsetX)("detailRowHeight",t.getDetailRowHeight(r&&r[e],e))("groupHeaderRowHeight",t.getGroupHeaderRowHeight(r&&r[e],e))("row",r)("disableCheck",t.disableRowCheck)("expanded",t.getRowExpanded(r))("rowIndex",t.getRowIndex(r&&r[e]))("selected",t.selected),le("hidden",t.ghostLoadingIndicator&&(!t.rowCount||!t.virtualization||!t.scrollbarV)?!0:null),h(2),y(t.rowDefTemplate?2:3),h(4),y(t.isGroup(r)?6:-1)}}function _i(n,o){if(n&1&&E(0,"datatable-summary-row",13),n&2){let r=c(2);w("ngStyle",r.bottomSummaryRowsStyles())("rowHeight",r.summaryHeight)("offsetX",r.offsetX)("innerWidth",r.innerWidth)("rows",r.rows)("columns",r.columns)}}function wi(n,o){if(n&1){let r=I();m(0,"datatable-scroller",10),x("scroll",function(t){u(r);let i=c();return g(i.onBodyScroll(t))}),C(1,ai,1,5,"datatable-summary-row",11),Q(2,mi,7,16,"datatable-row-wrapper",12,ke().rowTrackingFn,!0),C(4,_i,1,6,"datatable-summary-row",13),_()}if(n&2){let r=c();w("scrollbarV",r.scrollbarV)("scrollbarH",r.scrollbarH)("scrollHeight",r.scrollHeight())("scrollWidth",r.columnGroupWidths==null?null:r.columnGroupWidths.total),h(),y(r.summaryRow&&r.summaryPosition==="top"?1:-1),h(),N(r.rowsToRender()),h(2),y(r.summaryRow&&r.summaryPosition==="bottom"?4:-1)}}function bi(n,o){if(n&1){let r=I();m(0,"datatable-scroller",20),x("scroll",function(t){u(r);let i=c();return g(i.onBodyScroll(t))}),j(1,1),_()}if(n&2){let r=c();P("width",r.scrollbarH?(r.columnGroupWidths==null?null:r.columnGroupWidths.total)+"px":"100%"),w("scrollbarV",r.scrollbarV)("scrollbarH",r.scrollbarH)("scrollHeight",r.scrollHeight())}}function Ci(n,o){}function yi(n,o){if(n&1&&$(0,Ci,0,0,"ng-template",1),n&2){let r=c();w("ngTemplateOutlet",r.targetMarkerTemplate)("ngTemplateOutletContext",r.targetMarkerContext)}}function xi(n,o){if(n&1){let r=I();m(0,"label",2)(1,"input",5),x("change",function(){u(r);let t=c();return g(t.select.emit())}),_()()}if(n&2){let r=c();h(),w("checked",r.allRowsSelected)}}function vi(n,o){}function Ti(n,o){if(n&1&&$(0,vi,0,0,"ng-template",1),n&2){let r=c();w("ngTemplateOutlet",r.column.headerTemplate)("ngTemplateOutletContext",r.cellContext)}}function Di(n,o){if(n&1){let r=I();m(0,"span",3)(1,"span",6),x("click",function(){u(r);let t=c();return g(t.onSort())}),ie(2),_()()}if(n&2){let r=c();h(2),Ee(" ",r.name," ")}}function Si(n,o){if(n&1){let r=I();m(0,"datatable-header-cell",4),x("resize",function(t){let i=u(r).$implicit,s=c(2);return g(s.onColumnResized(t,i))})("resizing",function(t){let i=u(r).$implicit,s=c(2);return g(s.onColumnResizing(t,i))})("longPressStart",function(t){u(r);let i=c(2);return g(i.onLongPressStart(t))})("longPressEnd",function(t){u(r);let i=c(2);return g(i.onLongPressEnd(t))})("sort",function(t){u(r);let i=c(2);return g(i.onSort(t))})("select",function(t){u(r);let i=c(2);return g(i.select.emit(t))})("columnContextmenu",function(t){u(r);let i=c(2);return g(i.columnContextmenu.emit(t))}),_()}if(n&2){let r=o.$implicit,e=c(2);w("resizeEnabled",r.resizeable)("pressModel",r)("pressEnabled",e.reorderable&&r.draggable)("dragX",e.reorderable&&r.draggable&&r.dragging)("dragY",!1)("dragModel",r)("dragEventTarget",e.dragEventTarget)("headerHeight",e.headerHeight)("isTarget",r.isTarget)("targetMarkerTemplate",e.targetMarkerTemplate)("targetMarkerContext",r.targetMarkerContext)("column",r)("sortType",e.sortType)("sorts",e.sorts)("selectionType",e.selectionType)("sortAscendingIcon",e.sortAscendingIcon)("sortDescendingIcon",e.sortDescendingIcon)("sortUnsetIcon",e.sortUnsetIcon)("allRowsSelected",e.allRowsSelected)("enableClearingSortState",e.enableClearingSortState)}}function Hi(n,o){if(n&1&&(m(0,"div",2),Q(1,Si,1,20,"datatable-header-cell",3,gt),_()),n&2){let r=o.$implicit,e=c();O("datatable-row-"+r.type),w("ngStyle",e._styleByGroup[r.type]),h(),N(r.columns)}}var Ri=(n,o)=>o.number;function ki(n,o){if(n&1){let r=I();m(0,"li",6)(1,"a",7),x("click",function(){let t=u(r).$implicit,i=c();return g(i.selectPage(t.number))}),ie(2),_()()}if(n&2){let r=o.$implicit,e=c();L("active",r.number===e.page),le("aria-label","page "+r.number),h(2),Ee(" ",r.text," ")}}var Ii=n=>({"selected-count":n}),Ei=(n,o,r,e,t)=>({rowCount:n,pageSize:o,selectedCount:r,curPage:e,offset:t});function Pi(n,o){}function Vi(n,o){if(n&1&&$(0,Pi,0,0,"ng-template",1),n&2){let r=c();w("ngTemplateOutlet",r.footerTemplate.template)("ngTemplateOutletContext",rt(2,Ei,r.rowCount,r.pageSize,r.selectedCount,r.curPage,r.offset))}}function Fi(n,o){if(n&1&&(m(0,"span"),ie(1),_()),n&2){let r=c(2);h(),Pe(" ",r.selectedCount==null?null:r.selectedCount.toLocaleString()," ",r.selectedMessage," / ")}}function Mi(n,o){if(n&1){let r=I();m(0,"div",2),C(1,Fi,2,2,"span"),ie(2),_(),m(3,"datatable-pager",3),x("change",function(t){u(r);let i=c();return g(i.page.emit(t))}),_()}if(n&2){let r=c();h(),y(r.selectedMessage?1:-1),h(),Pe(" ",r.rowCount==null?null:r.rowCount.toLocaleString()," ",r.totalMessage," "),h(),w("pagerLeftArrowIcon",r.pagerLeftArrowIcon)("pagerRightArrowIcon",r.pagerRightArrowIcon)("pagerPreviousIcon",r.pagerPreviousIcon)("pagerNextIcon",r.pagerNextIcon)("page",r.curPage)("size",r.pageSize)("count",r.rowCount)("hidden",!r.isVisible)}}function zi(n,o){if(n&1){let r=I();m(0,"datatable-header",5),ce(1,"async"),x("sort",function(t){u(r);let i=c();return g(i.onColumnSort(t))})("resize",function(t){u(r);let i=c();return g(i.onColumnResize(t))})("resizing",function(t){u(r);let i=c();return g(i.onColumnResizing(t))})("reorder",function(t){u(r);let i=c();return g(i.onColumnReorder(t))})("select",function(){u(r);let t=c();return g(t.onHeaderSelect())})("columnContextmenu",function(t){u(r);let i=c();return g(i.onColumnContextmenu(t))}),_()}if(n&2){let r=c();w("sorts",r.sorts)("sortType",r.sortType)("scrollbarH",r.scrollbarH)("innerWidth",r._innerWidth)("offsetX",de(1,17,r._offsetX))("dealsWithGroup",r.groupedRows!==void 0)("columns",r._internalColumns)("headerHeight",r.headerHeight)("reorderable",r.reorderable)("targetMarkerTemplate",r.targetMarkerTemplate)("sortAscendingIcon",r.cssClasses.sortAscending)("sortDescendingIcon",r.cssClasses.sortDescending)("sortUnsetIcon",r.cssClasses.sortUnset)("allRowsSelected",r.allRowsSelected)("selectionType",r.selectionType)("verticalScrollVisible",r.verticalScrollVisible)("enableClearingSortState",r.enableClearingSortState)}}function Bi(n,o){n&1&&E(0,"datatable-progress")}function Ai(n,o){if(n&1&&E(0,"div",6),n&2){let r=c();w("innerHTML",r.messages.emptyMessage,He)}}function Wi(n,o){if(n&1){let r=I();m(0,"datatable-footer",7),x("page",function(t){u(r);let i=c();return g(i.onFooterPage(t))}),_()}if(n&2){let r=c();w("rowCount",r.groupedRows!==void 0?r._internalRows.length:r.rowCount)("pageSize",r.pageSize)("offset",r.offset)("footerHeight",r.footerHeight)("footerTemplate",r.footer)("totalMessage",r.messages.totalMessage)("pagerLeftArrowIcon",r.cssClasses.pagerLeftArrow)("pagerRightArrowIcon",r.cssClasses.pagerRightArrow)("pagerPreviousIcon",r.cssClasses.pagerPrevious)("selectedCount",r.selected.length)("selectedMessage",!!r.selectionType&&r.messages.selectedMessage)("pagerNextIcon",r.cssClasses.pagerNext)}}var $i=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-footer-template",""]]});let n=o;return n})(),Li=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-group-header-template",""]]});let n=o;return n})(),Oi=(()=>{let o=class o{constructor(){this.rowHeight=0,this.checkboxable=!1,this.toggle=new p}get template(){return this._templateInput||this._templateQuery}toggleExpandGroup(e){this.toggle.emit({type:"group",value:e})}expandAllGroups(){this.toggle.emit({type:"all",value:!0})}collapseAllGroups(){this.toggle.emit({type:"all",value:!1})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["ngx-datatable-group-header"]],contentQueries:function(t,i,s){if(t&1&&B(s,Li,7,W),t&2){let a;H(a=R())&&(i._templateQuery=a.first)}},inputs:{rowHeight:"rowHeight",checkboxable:"checkboxable",_templateInput:[0,"template","_templateInput"]},outputs:{toggle:"toggle"}});let n=o;return n})();function Xi(){return""}function Xe(n){return n==null?Xi:typeof n=="number"?Gi:n.indexOf(".")!==-1?Ni:Qi}function Gi(n,o){if(n==null)return"";if(!n||o==null)return n;let r=n[o];return r??""}function Qi(n,o){if(n==null)return"";if(!n||!o)return n;let r=n[o];return r??""}function Ni(n,o){if(n==null)return"";if(!n||!o)return n;let r=n[o];if(r!==void 0)return r;r=n;let e=o.split(".");if(e.length){for(let t=0;t<e.length;t++)if(r=r[e[t]],r==null)return""}return r}function re(n){return n&&(o=>Xe(n)(o,n))}function Me(n,o,r){if(o&&r){let e={},t=n.length,i=null;e[0]=new Ce;let s=n.reduce((l,d)=>{let f=r(d);return l.indexOf(f)===-1&&l.push(f),l},[]);for(let l=0;l<t;l++)e[r(n[l])]=new Ce(n[l]);for(let l=0;l<t;l++){i=e[r(n[l])];let d=0,f=o(i.row);f&&s.indexOf(f)>-1&&(d=f),i.parent=e[d],i.row.level=i.parent.row.level+1,i.parent.children.push(i)}let a=[];return e[0].flatten(function(){a=[...a,this.row]},!0),a}else return n}var Ce=class{constructor(o=null){o||(o={level:-1,treeStatus:"expanded"}),this.row=o,this.parent=null,this.children=[]}flatten(o,r){if(this.row.treeStatus==="expanded")for(let e=0,t=this.children.length;e<t;e++){let i=this.children[e];o.apply(i,Array.prototype.slice.call(arguments,2)),r&&i.flatten.apply(i,arguments)}}};function Yi(n){return n=n.replace(/[^a-zA-Z0-9 ]/g," "),n=n.replace(/([a-z](?=[A-Z]))/g,"$1 "),n=n.replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase(),n=n.replace(/([ 0-9]+)([a-zA-Z])/g,function(o,r,e){return r.trim()+e.toUpperCase()}),n}function qi(n){return n.replace(/([A-Z])/g,o=>` ${o}`).replace(/^./,o=>o.toUpperCase())}function ji(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function lt(n,o=150){if(!n)return;let r=!1;for(let e of n)e.$$id||(e.$$id=ji()),ue(e.prop)&&e.name&&(e.prop=Yi(e.name)),e.$$valueGetter||(e.$$valueGetter=Xe(e.prop)),!ue(e.prop)&&ue(e.name)&&(e.name=qi(String(e.prop))),ue(e.prop)&&ue(e.name)&&(e.name=""),"resizeable"in e||(e.resizeable=!0),"sortable"in e||(e.sortable=!0),"draggable"in e||(e.draggable=!0),"canAutoResize"in e||(e.canAutoResize=!0),"width"in e||(e.width=o),"isTreeColumn"in e&&e.isTreeColumn&&!r?r=!0:e.isTreeColumn=!1}function ue(n){return n==null}function Ui(n){let o=[];for(let r of n){let e={},t=Object.getOwnPropertyNames(r);for(let i of t)e[i]=r[i];r.headerTemplate&&(e.headerTemplate=r.headerTemplate),r.cellTemplate&&(e.cellTemplate=r.cellTemplate),r.ghostCellTemplate&&(e.ghostCellTemplate=r.ghostCellTemplate),r.summaryFunc&&(e.summaryFunc=r.summaryFunc),r.summaryTemplate&&(e.summaryTemplate=r.summaryTemplate),o.push(e)}return o}var Ki=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-header-template",""]]});let n=o;return n})(),Zi=(()=>{let o=class o{constructor(){this.template=b(W)}static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-cell-template",""]]});let n=o;return n})(),Ji=(()=>{let o=class o{constructor(){this.template=b(W)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-tree-toggle",""]]});let n=o;return n})(),Ae=(()=>{let o=class o{constructor(){this.columnInputChanges=new Qe}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next(void 0)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac});let n=o;return n})(),en=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-ghost-cell-template",""]]});let n=o;return n})(),tn=(()=>{let o=class o{constructor(){this.columnChangesService=b(Ae),this.isFirstChange=!0}get cellTemplate(){return this._cellTemplateInput||this._cellTemplateQuery}get headerTemplate(){return this._headerTemplateInput||this._headerTemplateQuery}get treeToggleTemplate(){return this._treeToggleTemplateInput||this._treeToggleTemplateQuery}get ghostCellTemplate(){return this._ghostCellTemplateInput||this._ghostCellTemplateQuery}ngOnChanges(){this.isFirstChange?this.isFirstChange=!1:this.columnChangesService.onInputChange()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["ngx-datatable-column"]],contentQueries:function(t,i,s){if(t&1&&(B(s,Zi,7,W),B(s,Ki,7,W),B(s,Ji,7,W),B(s,en,7,W)),t&2){let a;H(a=R())&&(i._cellTemplateQuery=a.first),H(a=R())&&(i._headerTemplateQuery=a.first),H(a=R())&&(i._treeToggleTemplateQuery=a.first),H(a=R())&&(i._ghostCellTemplateQuery=a.first)}},inputs:{name:"name",prop:"prop",bindAsUnsafeHtml:[2,"bindAsUnsafeHtml","bindAsUnsafeHtml",T],frozenLeft:[2,"frozenLeft","frozenLeft",T],frozenRight:[2,"frozenRight","frozenRight",T],flexGrow:[2,"flexGrow","flexGrow",V],resizeable:[2,"resizeable","resizeable",T],comparator:"comparator",pipe:"pipe",sortable:[2,"sortable","sortable",T],draggable:[2,"draggable","draggable",T],canAutoResize:[2,"canAutoResize","canAutoResize",T],minWidth:[2,"minWidth","minWidth",V],width:[2,"width","width",V],maxWidth:[2,"maxWidth","maxWidth",V],checkboxable:[2,"checkboxable","checkboxable",T],headerCheckboxable:[2,"headerCheckboxable","headerCheckboxable",T],headerClass:"headerClass",cellClass:"cellClass",isTreeColumn:[2,"isTreeColumn","isTreeColumn",T],treeLevelIndent:"treeLevelIndent",summaryFunc:"summaryFunc",summaryTemplate:"summaryTemplate",_cellTemplateInput:[0,"cellTemplate","_cellTemplateInput"],_headerTemplateInput:[0,"headerTemplate","_headerTemplateInput"],_treeToggleTemplateInput:[0,"treeToggleTemplate","_treeToggleTemplateInput"],_ghostCellTemplateInput:[0,"ghostCellTemplate","_ghostCellTemplateInput"]},features:[J]});let n=o;return n})(),nn=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","ngx-datatable-row-detail-template",""]]});let n=o;return n})(),on=(()=>{let o=class o{constructor(){this.rowHeight=0,this.toggle=new p}get template(){return this._templateInput||this._templateQuery}toggleExpandRow(e){this.toggle.emit({type:"row",value:e})}expandAllRows(){this.toggle.emit({type:"all",value:!0})}collapseAllRows(){this.toggle.emit({type:"all",value:!1})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["ngx-datatable-row-detail"]],contentQueries:function(t,i,s){if(t&1&&B(s,nn,7,W),t&2){let a;H(a=R())&&(i._templateQuery=a.first)}},inputs:{rowHeight:"rowHeight",_templateInput:[0,"template","_templateInput"]},outputs:{toggle:"toggle"}});let n=o;return n})(),rn=(()=>{let o=class o{get template(){return this._templateInput||this._templateQuery}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["ngx-datatable-footer"]],contentQueries:function(t,i,s){if(t&1&&B(s,$i,5,W),t&2){let a;H(a=R())&&(i._templateQuery=a.first)}},inputs:{footerHeight:[2,"footerHeight","footerHeight",V],totalMessage:"totalMessage",selectedMessage:"selectedMessage",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",_templateInput:[0,"template","_templateInput"]}});let n=o;return n})(),ct=(()=>{let o=class o{constructor(){this.renderer=b(Re),this.scrollbarV=!1,this.scrollbarH=!1,this.scroll=new p,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this.element=b(q).nativeElement,this._scrollEventListener=null}ngOnInit(){if(this.scrollbarV||this.scrollbarH){let e=this.renderer;this.parentElement=e.parentNode(e.parentNode(this.element)),this._scrollEventListener=this.onScrolled.bind(this),this.parentElement.addEventListener("scroll",this._scrollEventListener)}}ngOnDestroy(){this._scrollEventListener&&(this.parentElement.removeEventListener("scroll",this._scrollEventListener),this._scrollEventListener=null)}setOffset(e){this.parentElement&&(this.parentElement.scrollTop=e)}onScrolled(e){let t=e.currentTarget;requestAnimationFrame(()=>{this.scrollYPos=t.scrollTop,this.scrollXPos=t.scrollLeft,this.updateOffset()})}updateOffset(){let e;this.scrollYPos<this.prevScrollYPos?e="down":this.scrollYPos>this.prevScrollYPos&&(e="up"),this.scroll.emit({direction:e,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-scroller"]],hostAttrs:[1,"datatable-scroll"],hostVars:4,hostBindings:function(t,i){t&2&&P("height",i.scrollHeight,"px")("width",i.scrollWidth,"px")},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth"},outputs:{scroll:"scroll"},ngContentSelectors:Oe,decls:1,vars:0,template:function(t,i){t&1&&(te(),j(0))},encapsulation:2,changeDetection:0});let n=o;return n})();function ee(n){let o={left:[],center:[],right:[]};if(n)for(let r of n)r.frozenLeft?o.left.push(r):r.frozenRight?o.right.push(r):o.center.push(r);return o}function ge(n,o){return{left:we(n.left),center:we(n.center),right:we(n.right),total:Math.floor(we(o))}}function we(n,o){let r=0;if(n)for(let e of n){let i=o&&e[o]?e[o]:e.width;r=r+parseFloat(i)}return r}function sn(n,o){let r=0;for(let e of n){let t=o&&e[o];r=r+(t?e[o]:e.width)}return r}function mt(n){let o=ee(n);return[{type:"left",columns:o.left},{type:"center",columns:o.center},{type:"right",columns:o.right}]}var We=class{constructor(){this.treeArray=[]}clearCache(){this.treeArray=[]}initCache(o){let{rows:r,rowHeight:e,detailRowHeight:t,externalVirtual:i,rowCount:s,rowIndexes:a,rowExpansions:l}=o,d=typeof e=="function",f=typeof t=="function";if(!d&&isNaN(e))throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a
        valid number or function value: (${e}) when 'scrollbarV' is enabled.`);if(!f&&isNaN(t))throw new Error(`Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a
        valid number or function value: (${t}) when 'scrollbarV' is enabled.`);let F=i?s:r.length;this.treeArray=new Array(F);for(let M=0;M<F;++M)this.treeArray[M]=0;for(let M=0;M<F;++M){let G=r[M],v=e;d&&(v=e(G));let se=l.has(G);if(G&&se)if(f){let yt=a.get(G);v+=t(G,yt)}else v+=t;this.update(M,v)}}getRowIndex(o){return o===0?0:this.calcRowIndex(o)}update(o,r){if(!this.treeArray.length)throw new Error(`Update at index ${o} with value ${r} failed:
        Row Height cache not initialized.`);let e=this.treeArray.length;for(o|=0;o<e;)this.treeArray[o]+=r,o|=o+1}query(o){if(!this.treeArray.length)throw new Error(`query at index ${o} failed: Fenwick tree array not initialized.`);let r=0;for(o|=0;o>=0;)r+=this.treeArray[o],o=(o&o+1)-1;return r}queryBetween(o,r){return this.query(r)-this.query(o-1)}calcRowIndex(o){if(!this.treeArray.length)return 0;let r=-1,e=this.treeArray.length,t=Math.pow(2,e.toString(2).length-1);for(let i=t;i!==0;i>>=1){let s=r+i;s<e&&o>=this.treeArray[s]&&(o-=this.treeArray[s],r=s)}return r+1}},S=function(n){return n.up="ArrowUp",n.down="ArrowDown",n.return="Enter",n.escape="Escape",n.left="ArrowLeft",n.right="ArrowRight",n}(S||{}),A=function(n){return n.asc="asc",n.desc="desc",n}(A||{}),ye=function(n){return n.single="single",n.multi="multi",n}(ye||{}),be=function(n){return n.standard="standard",n.flex="flex",n.force="force",n}(be||{}),$e=function(n){return n.header="header",n.body="body",n}($e||{}),X=function(n){return n.single="single",n.multi="multi",n.multiClick="multiClick",n.cell="cell",n.checkbox="checkbox",n}(X||{}),_t=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["ghost-loader"]],inputs:{columns:"columns",pageSize:[2,"pageSize","pageSize",V],rowHeight:"rowHeight",ghostBodyHeight:[2,"ghostBodyHeight","ghostBodyHeight",V]},decls:3,vars:3,consts:[[1,"ghost-loader","ghost-cell-container"],[1,"ghost-element",3,"height"],[1,"ghost-element"],[1,"line","ghost-cell-strip",3,"width"],[3,"ngTemplateOutlet"],[1,"line","ghost-cell-strip"]],template:function(t,i){t&1&&(m(0,"div",0),Q(1,Ht,3,2,"div",1,Ie),_()),t&2&&(P("height",i.ghostBodyHeight+"px"),h(),N(nt(2,xt).constructor(i.pageSize)))},dependencies:[oe],styles:["@keyframes _ngcontent-%COMP%_ghost{0%{background-position:0vw 0}to{background-position:100vw 0}}.ghost-loader[_ngcontent-%COMP%]{overflow:hidden}.ghost-loader[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%;height:12px;animation-name:_ngcontent-%COMP%_ghost;animation-iteration-count:infinite;animation-timing-function:linear}.ghost-loader[_ngcontent-%COMP%]   .ghost-element[_ngcontent-%COMP%]{display:flex}.ghost-overlay[_nghost-%COMP%]{position:sticky;top:20px}.ghost-overlay[_nghost-%COMP%]   .ghost-loader[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:.9rem 1.2rem}"],changeDetection:0});let n=o;return n})(),an=(()=>{let o=class o{set disable$(e){this._disable$=e,this.cellContext.disable$=e}get disable$(){return this._disable$}set group(e){this._group=e,this.cellContext.group=e,this.checkValueUpdates(),this.cd.markForCheck()}get group(){return this._group}set rowHeight(e){this._rowHeight=e,this.cellContext.rowHeight=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowHeight(){return this._rowHeight}set isSelected(e){this._isSelected=e,this.cellContext.isSelected=e,this.cd.markForCheck()}get isSelected(){return this._isSelected}set expanded(e){this._expanded=e,this.cellContext.expanded=e,this.cd.markForCheck()}get expanded(){return this._expanded}set rowIndex(e){this._rowIndex=e,this.cellContext.rowIndex=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set column(e){this._column=e,this.cellContext.column=e,this.checkValueUpdates(),this.cd.markForCheck()}get column(){return this._column}set row(e){this._row=e,this.cellContext.row=e,this.checkValueUpdates(),this.cd.markForCheck()}get row(){return this._row}set sorts(e){this._sorts=e,this.sortDir=this.calcSortDir(e)}get sorts(){return this._sorts}set treeStatus(e){e!=="collapsed"&&e!=="expanded"&&e!=="loading"&&e!=="disabled"?this._treeStatus="collapsed":this._treeStatus=e,this.cellContext.treeStatus=this._treeStatus,this.checkValueUpdates(),this.cd.markForCheck()}get treeStatus(){return this._treeStatus}get columnCssClasses(){let e="datatable-body-cell";if(this.column.cellClass){if(typeof this.column.cellClass=="string")e+=" "+this.column.cellClass;else if(typeof this.column.cellClass=="function"){let t=this.column.cellClass({row:this.row,group:this.group,column:this.column,value:this.value,rowHeight:this.rowHeight});if(typeof t=="string")e+=" "+t;else if(typeof t=="object"){let i=Object.keys(t);for(let s of i)t[s]===!0&&(e+=` ${s}`)}}}return this.sortDir||(e+=" sort-active"),this.isFocused&&!this.disable$?.value&&(e+=" active"),this.sortDir===A.asc&&(e+=" sort-asc"),this.sortDir===A.desc&&(e+=" sort-desc"),this.disable$?.value&&(e+=" row-disabled"),e}get width(){return this.column.width}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get height(){let e=this.rowHeight;return isNaN(e)?e:e+"px"}constructor(){this.cd=b(K),this.ghostLoadingIndicator=!1,this.activate=new p,this.treeAction=new p,this.isFocused=!1,this._element=b(q).nativeElement,this.cellContext={onCheckboxChangeFn:e=>this.onCheckboxChange(e),activateFn:e=>this.activate.emit(e),row:this.row,group:this.group,value:this.value,column:this.column,rowHeight:this.rowHeight,isSelected:this.isSelected,rowIndex:this.rowIndex,treeStatus:this.treeStatus,disable$:this.disable$,onTreeAction:()=>this.onTreeAction()}}ngDoCheck(){this.checkValueUpdates()}ngOnDestroy(){this.cellTemplate&&this.cellTemplate.clear(),this.ghostLoaderTemplate&&this.ghostLoaderTemplate.clear()}checkValueUpdates(){let e="";if(!this.row||!this.column)e="";else{let t=this.column.$$valueGetter(this.row,this.column.prop),i=this.column.pipe;i?e=i.transform(t):e!==void 0&&(e=t)}this.value!==e&&(this.value=e,this.cellContext.value=e,this.cellContext.disable$=this.disable$,this.sanitizedValue=e!=null?this.stripHtml(e):e,this.cd.markForCheck())}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onClick(e){this.activate.emit({type:"click",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onDblClick(e){this.activate.emit({type:"dblclick",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onKeyDown(e){let t=e.key,i=e.target===this._element;(t===S.return||t===S.down||t===S.up||t===S.left||t===S.right)&&i&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element}))}onCheckboxChange(e){this.activate.emit({type:"checkbox",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element,treeStatus:"collapsed"})}calcSortDir(e){if(!e)return;let t=e.find(i=>i.prop===this.column.prop);if(t)return t.dir}stripHtml(e){return e.replace?e.replace(/<\/?[^>]+(>|$)/g,""):e}onTreeAction(){this.treeAction.emit(this.row)}calcLeftMargin(e,t){let i=e.treeLevelIndent!=null?e.treeLevelIndent:50;return e.isTreeColumn?t.level*i:0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-body-cell"]],viewQuery:function(t,i){if(t&1&&(U(Rt,7,fe),U(kt,7,fe)),t&2){let s;H(s=R())&&(i.cellTemplate=s.first),H(s=R())&&(i.ghostLoaderTemplate=s.first)}},hostVars:10,hostBindings:function(t,i){t&1&&x("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("click",function(a){return i.onClick(a)})("dblclick",function(a){return i.onDblClick(a)})("keydown",function(a){return i.onKeyDown(a)}),t&2&&(O(i.columnCssClasses),P("width",i.width,"px")("min-width",i.minWidth,"px")("max-width",i.maxWidth,"px")("height",i.height))},inputs:{displayCheck:"displayCheck",disable$:"disable$",group:"group",rowHeight:"rowHeight",isSelected:"isSelected",expanded:"expanded",rowIndex:"rowIndex",column:"column",row:"row",sorts:"sorts",treeStatus:"treeStatus",ghostLoadingIndicator:"ghostLoadingIndicator"},outputs:{activate:"activate",treeAction:"treeAction"},decls:2,vars:1,consts:[["cellTemplate",""],[1,"datatable-body-cell-label",3,"margin-left"],[1,"datatable-body-cell-label"],[1,"datatable-checkbox"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","checkbox",3,"click","disabled","checked"],[1,"datatable-tree-button",3,"disabled"],[1,"datatable-tree-button",3,"click","disabled"],[1,"icon","datatable-icon-collapse"],[1,"icon","datatable-icon-up"],[1,"icon","datatable-icon-down"],[3,"title","innerHTML"],[3,"title"],[3,"columns","pageSize"]],template:function(t,i){t&1&&C(0,Qt,5,5,"div",1)(1,Yt,1,1),t&2&&y(i.row?0:1)},dependencies:[oe,_t,_e],encapsulation:2,changeDetection:0});let n=o;return n})(),wt=(()=>{let o=class o{constructor(){this.cd=b(K),this.treeStatus="collapsed",this.ghostLoadingIndicator=!1,this.verticalScrollVisible=!1,this.activate=new p,this.treeAction=new p,this._element=b(q).nativeElement,this._rowDiffer=b(he).find({}).create()}set columns(e){this._columns=e,this.recalculateColumns(e)}get columns(){return this._columns}set innerWidth(e){if(this._columns){let t=ee(this._columns);this._columnGroupWidths=ge(t,this._columns)}this._innerWidth=e,this.recalculateColumns()}get innerWidth(){return this._innerWidth}set offsetX(e){this._offsetX=e}get offsetX(){return this._offsetX}get cssClass(){let e="datatable-body-row";if(this.isSelected&&(e+=" active"),this.rowIndex%2!==0&&(e+=" datatable-row-odd"),this.rowIndex%2===0&&(e+=" datatable-row-even"),this.disable$&&this.disable$.value&&(e+=" row-disabled"),this.rowClass){let t=this.rowClass(this.row);if(typeof t=="string")e+=` ${t}`;else if(typeof t=="object"){let i=Object.keys(t);for(let s of i)t[s]===!0&&(e+=` ${s}`)}}return e}get columnsTotalWidths(){return this._columnGroupWidths.total}ngOnChanges(e){e.verticalScrollVisible&&this.recalculateColumns()}ngDoCheck(){this._rowDiffer.diff(this.row)&&this.cd.markForCheck()}onActivate(e,t){e.cellIndex=t,e.rowElement=this._element,this.activate.emit(e)}onKeyDown(e){let t=e.key,i=e.target===this._element,s=t===S.return||t===S.down||t===S.up||t===S.left||t===S.right,a=e.key==="a"&&(e.ctrlKey||e.metaKey);(s&&i||a)&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,rowElement:this._element}))}onMouseenter(e){this.activate.emit({type:"mouseenter",event:e,row:this.row,rowElement:this._element})}recalculateColumns(e=this.columns){this._columns=e;let t=ee(this._columns);this._columnsByPin=mt(this._columns),this._columnGroupWidths=ge(t,this._columns)}onTreeAction(){this.treeAction.emit()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-body-row"]],hostVars:6,hostBindings:function(t,i){t&1&&x("keydown",function(a){return i.onKeyDown(a)})("mouseenter",function(a){return i.onMouseenter(a)}),t&2&&(O(i.cssClass),P("height",i.rowHeight,"px")("width",i.columnsTotalWidths,"px"))},inputs:{columns:"columns",innerWidth:"innerWidth",expanded:"expanded",rowClass:"rowClass",row:"row",group:"group",isSelected:"isSelected",rowIndex:"rowIndex",displayCheck:"displayCheck",treeStatus:"treeStatus",ghostLoadingIndicator:"ghostLoadingIndicator",verticalScrollVisible:"verticalScrollVisible",disable$:"disable$",offsetX:"offsetX",rowHeight:"rowHeight"},outputs:{activate:"activate",treeAction:"treeAction"},features:[J],decls:2,vars:0,consts:[[3,"class","width","row-disabled"],["role","cell","tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","disable$","treeStatus","ghostLoadingIndicator"],["role","cell","tabindex","-1",3,"activate","treeAction","row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","disable$","treeStatus","ghostLoadingIndicator"]],template:function(t,i){t&1&&Q(0,jt,4,9,"div",0,ut),t&2&&N(i._columnsByPin)},dependencies:[an,_e],encapsulation:2,changeDetection:0});let n=o;return n})(),Ge=(()=>{let o=class o{constructor(){this.dragX=!0,this.dragY=!0,this.dragStart=new p,this.dragging=new p,this.dragEnd=new p,this.element=b(q).nativeElement,this.isDragging=!1}ngOnChanges(e){e.dragEventTarget&&e.dragEventTarget.currentValue&&this.dragModel.dragging&&this.onMousedown(e.dragEventTarget.currentValue)}ngOnDestroy(){this._destroySubscription()}onMouseup(e){this.isDragging&&(this.isDragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this._destroySubscription(),this.dragEnd.emit({event:e,element:this.element,model:this.dragModel})))}onMousedown(e){if(e.target.classList.contains("draggable")&&(this.dragX||this.dragY)){e.preventDefault(),this.isDragging=!0;let i={x:e.clientX,y:e.clientY},s=Z(document,"mouseup");this.subscription=s.subscribe(l=>this.onMouseup(l));let a=Z(document,"mousemove").pipe(pe(s)).subscribe(l=>this.move(l,i));this.subscription.add(a),this.dragStart.emit({event:e,element:this.element,model:this.dragModel})}}move(e,t){if(!this.isDragging)return;let i=e.clientX-t.x,s=e.clientY-t.y;this.dragX&&(this.element.style.left=`${i}px`),this.dragY&&(this.element.style.top=`${s}px`),this.element.classList.add("dragging"),this.dragging.emit({event:e,element:this.element,model:this.dragModel})}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","draggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragModel:"dragModel",dragX:[2,"dragX","dragX",T],dragY:[2,"dragY","dragY",T]},outputs:{dragStart:"dragStart",dragging:"dragging",dragEnd:"dragEnd"},features:[J]});let n=o;return n})();var ln=(()=>{let o=class o{static ngTemplateContextGuard(e,t){return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","rowDef",""]]});let n=o;return n})(),cn=(()=>{let o=class o{constructor(){this.vc=b(fe)}ngOnInit(){this.vc.createEmbeddedView(this.rowDefInternal.template,Y({},this.rowDefInternal),{injector:qe.create({providers:[{provide:dn,useValue:this}]})})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","rowDefInternal",""]],inputs:{rowDefInternal:"rowDefInternal"}});let n=o;return n})(),dn=new De("RowDef"),bt=new De("DatatableComponentToken"),hn=(()=>{let o=class o{constructor(){this.rowContextmenu=new p(!1),this.selectedGroupRows=ae([]),this.expanded=!1,this.rowDiffer=b(he).find({}).create(),this.iterableDiffers=b(st),this.tableComponent=b(bt),this.cd=b(K),this.group=ne(()=>{if(typeof this.row=="object"&&"value"in this.row)return this.row})}ngOnInit(){if(this.disableCheck){let e=this.disableCheck(this.row);this.disable$=new ve(e),this.rowContext.disableRow$=this.disable$}this.selectedRowsDiffer=this.iterableDiffers.find(this.selected??[]).create()}ngOnChanges(e){e.row&&(this.isGroup(this.row)?this.groupContext={group:this.row,expanded:this.expanded,rowIndex:this.rowIndex}:this.rowContext={row:this.row,expanded:this.expanded,rowIndex:this.rowIndex,disableRow$:this.disable$}),e.rowIndex&&((this.rowContext??this.groupContext).rowIndex=this.rowIndex),e.expanded&&((this.groupContext??this.rowContext).expanded=this.expanded,this.rowContext&&(this.rowContext.expanded=this.expanded))}ngDoCheck(){if(this.disableCheck){let e=this.disableCheck(this.row);e!==this.disable$.value&&(this.disable$.next(e),this.cd.markForCheck())}if(this.rowDiffer.diff(this.row)&&(this.isGroup(this.row)?this.groupContext.group=this.row:this.rowContext.row=this.row,this.cd.markForCheck()),this.groupHeader?.checkboxable&&this.selectedRowsDiffer.diff(this.selected)){let e=this.selected.filter(t=>this.group()?.value.find(i=>i===t));this.checkBoxInput&&(e.length&&e.length!==this.group()?.value.length?this.checkBoxInput.nativeElement.indeterminate=!0:this.checkBoxInput.nativeElement.indeterminate=!1),this.selectedGroupRows.set(e)}}onContextmenu(e){this.rowContextmenu.emit({event:e,row:this.row})}onCheckboxChange(e){this.selected=[...this.selected.filter(t=>!this.group().value.find(i=>i===t))],e&&(this.selected=[...this.selected,...this.group().value]),this.tableComponent.selected=[...this.selected],this.tableComponent.onBodySelect({selected:this.selected})}isGroup(e){return!!this.groupHeader}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-row-wrapper"]],viewQuery:function(t,i){if(t&1&&U(Ut,5),t&2){let s;H(s=R())&&(i.checkBoxInput=s.first)}},hostAttrs:[1,"datatable-row-wrapper"],hostBindings:function(t,i){t&1&&x("contextmenu",function(a){return i.onContextmenu(a)})},inputs:{innerWidth:"innerWidth",rowDetail:"rowDetail",groupHeader:"groupHeader",offsetX:"offsetX",detailRowHeight:"detailRowHeight",groupHeaderRowHeight:"groupHeaderRowHeight",row:"row",groupedRows:"groupedRows",disableCheck:"disableCheck",selected:"selected",rowIndex:"rowIndex",expanded:[2,"expanded","expanded",T]},outputs:{rowContextmenu:"rowContextmenu"},features:[J],ngContentSelectors:Oe,decls:3,vars:3,consts:[["select",""],[1,"datatable-group-header",3,"height","width"],[1,"datatable-row-detail",3,"height"],[1,"datatable-group-header"],[1,"datatable-group-cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-checkbox"],["type","checkbox",3,"change","checked"],[1,"datatable-row-detail"]],template:function(t,i){t&1&&(te(),C(0,Jt,4,7,"div",1),C(1,ei,1,0),C(2,ii,2,4,"div",2)),t&2&&(y(i.groupHeader!=null&&i.groupHeader.template?0:-1),h(),y(i.groupHeader!=null&&i.groupHeader.template&&i.expanded||!i.groupHeader||!i.groupHeader.template?1:-1),h(),y(i.rowDetail!=null&&i.rowDetail.template&&i.expanded?2:-1))},dependencies:[oe],encapsulation:2,changeDetection:0});let n=o;return n})();function un(n){let o=n.filter(r=>!!r);return!o.length||o.some(r=>typeof r!="number")?null:o.reduce((r,e)=>r+e)}function gn(n){return null}var pn=(()=>{let o=class o{constructor(){this.summaryRow={}}ngOnChanges(){!this.columns||!this.rows||(this.updateInternalColumns(),this.updateValues())}updateInternalColumns(){this._internalColumns=this.columns.map(e=>xe(Y({},e),{cellTemplate:e.summaryTemplate}))}updateValues(){this.summaryRow={},this.columns.filter(e=>!e.summaryTemplate).forEach(e=>{let t=this.rows.map(s=>s[e.prop]),i=this.getSummaryFunction(e);this.summaryRow[e.prop]=e.pipe?e.pipe.transform(i(t)):i(t)})}getSummaryFunction(e){return e.summaryFunc===void 0?un:e.summaryFunc===null?gn:e.summaryFunc}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-summary-row"]],hostAttrs:[1,"datatable-summary-row"],inputs:{rows:"rows",columns:"columns",rowHeight:"rowHeight",offsetX:"offsetX",innerWidth:"innerWidth"},features:[J],decls:1,vars:1,consts:[["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex"]],template:function(t,i){t&1&&C(0,ni,1,6,"datatable-body-row",0),t&2&&y(i.summaryRow&&i._internalColumns?0:-1)},dependencies:[wt],encapsulation:2});let n=o;return n})();function ze(n,o,r){let e=r(o,n);return e>-1?n.splice(e,1):n.push(o),n}function fn(n,o,r,e){let t=r<e;for(let i=0;i<o.length;i++){let s=o[i],a=i>=e&&i<=r,l=i<=e&&i>=r,d={start:0,end:0};t?d={start:r,end:e}:d={start:e,end:r+1},(t&&l||!t&&a)&&i>=d.start&&i<=d.end&&n.push(s)}return n}var mn=(()=>{let o=class o{constructor(){this.activate=new p,this.select=new p}selectRow(e,t,i){if(!this.selectEnabled)return;let s=this.selectionType===X.checkbox,a=this.selectionType===X.multi,l=this.selectionType===X.multiClick,d=[];a||s||l?e.shiftKey?d=fn([],this.rows,t,this.prevIndex):e.key==="a"&&(e.ctrlKey||e.metaKey)?d=this.rows.filter(f=>!!f):e.ctrlKey||e.metaKey||l||s?d=ze([...this.selected],i,this.getRowSelectedIdx.bind(this)):d=ze([],i,this.getRowSelectedIdx.bind(this)):d=ze([],i,this.getRowSelectedIdx.bind(this)),typeof this.selectCheck=="function"&&(d=d.filter(this.selectCheck.bind(this))),typeof this.disableCheck=="function"&&(d=d.filter(f=>!this.disableCheck(f))),this.selected.splice(0,this.selected.length),this.selected.push(...d),this.prevIndex=t,this.select.emit({selected:d})}onActivate(e,t){let{type:i,event:s,row:a}=e,l=this.selectionType===X.checkbox;!l&&(i==="click"||i==="dblclick")||l&&i==="checkbox"?this.selectRow(s,t,a):i==="keydown"&&(s.key===S.return?this.selectRow(s,t,a):s.key==="a"&&(s.ctrlKey||s.metaKey)?this.selectRow(s,0,this.rows[this.rows.length-1]):this.onKeyboardFocus(e)),this.activate.emit(e)}onKeyboardFocus(e){let{key:t}=e.event;if(t===S.up||t===S.down||t===S.right||t===S.left){let s=this.selectionType===X.cell;if(typeof this.disableCheck=="function"&&this.disableCheck(e.row))return;!e.cellElement||!s?this.focusRow(e.rowElement,t):s&&this.focusCell(e.cellElement,e.rowElement,t,e.cellIndex)}}focusRow(e,t){let i=this.getPrevNextRow(e,t);i&&i.focus()}getPrevNextRow(e,t){let i=e.parentElement;if(i){let s;if(t===S.up?s=i.previousElementSibling:t===S.down&&(s=i.nextElementSibling),s&&s.children.length)return s.children[0]}}focusCell(e,t,i,s){let a;if(i===S.left)a=e.previousElementSibling;else if(i===S.right)a=e.nextElementSibling;else if(i===S.up||i===S.down){let l=this.getPrevNextRow(t,i);if(l){let d=l.getElementsByClassName("datatable-body-cell");d.length&&(a=d[s])}}a&&"focus"in a&&typeof a.focus=="function"&&a.focus()}getRowSelected(e){return this.getRowSelectedIdx(e,this.selected)>-1}getRowSelectedIdx(e,t){if(!t||!t.length)return-1;let i=this.rowIdentity(e);return t.findIndex(s=>this.rowIdentity(s)===i)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-selection"]],inputs:{rows:"rows",selected:"selected",selectEnabled:"selectEnabled",selectionType:"selectionType",rowIdentity:"rowIdentity",selectCheck:"selectCheck",disableCheck:"disableCheck"},outputs:{activate:"activate",select:"select"},ngContentSelectors:Oe,decls:1,vars:0,template:function(t,i){t&1&&(te(),j(0))},encapsulation:2,changeDetection:0});let n=o;return n})(),Be=(()=>{let o=class o{set pageSize(e){e!==this._pageSize&&(this._pageSize=e,this.recalcLayout(),this._offsetEvent=-1,this.updatePage("up"),this.updatePage("down"))}get pageSize(){return this._pageSize}set rows(e){e!==this._rows&&(this._rows=e,this.recalcLayout())}get rows(){return this._rows}set columns(e){e!==this._columns&&(this._columns=e,this.updateColumnGroupWidths())}get columns(){return this._columns}set offset(e){e!==this._offset&&(this._offset=e,(!this.scrollbarV||this.scrollbarV&&!this.virtualization)&&(!isNaN(this._offset)&&this.ghostLoadingIndicator&&(this.rows=[]),this.recalcLayout()))}get offset(){return this._offset}set rowCount(e){e!==this._rowCount&&(this._rowCount=e,this.recalcLayout())}get rowCount(){return this._rowCount}get bodyWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}set bodyHeight(e){this.scrollbarV?this._bodyHeight=e+"px":this._bodyHeight="auto",this.recalcLayout()}get bodyHeight(){return this._bodyHeight}get selectEnabled(){return!!this.selectionType}constructor(){this.cd=b(K),this.selected=[],this.verticalScrollVisible=!1,this.scroll=new p,this.page=new p,this.activate=new p,this.select=new p,this.detailToggle=new p,this.rowContextmenu=new p(!1),this.treeAction=new p,this.scrollHeight=ne(()=>{if(this.rowHeightsCache()&&this.scrollbarV&&this.virtualization&&this.rowCount)return this.rowHeightsCache().query(this.rowCount-1)}),this.rowsToRender=ne(()=>this.updateRows()),this.rowHeightsCache=ae(new We),this.offsetY=0,this.indexes=ae({first:0,last:0}),this.rowIndexes=new WeakMap,this.rowExpansions=[],this._offsetEvent=-1,this.getDetailRowHeight=(e,t)=>{if(!this.rowDetail)return 0;let i=this.rowDetail.rowHeight;return typeof i=="function"?i(e,t):i},this.getGroupHeaderRowHeight=(e,t)=>{if(!this.groupHeader)return 0;let i=this.groupHeader?.rowHeight===0?this.rowHeight:this.groupHeader?.rowHeight;return typeof i=="function"?i(e,t):i},this.rowsStyles=ne(()=>{let e=[];return this.rowsToRender().forEach((t,i)=>{let s={};if(this.groupedRows&&(s.width=this.columnGroupWidths.total),this.scrollbarV&&this.virtualization){let a=0;if(Array.isArray(t)){let l=t[t.length-1];a=l?this.getRowIndex(l):0}else t?a=this.getRowIndex(t):a=this.indexes().first+i;s.transform=`translateY(${this.rowHeightsCache().query(a-1)}px)`}e.push(s)}),e}),this.bottomSummaryRowsStyles=ne(()=>!this.scrollbarV||!this.rows||!this.rows.length||!this.rowsToRender()?null:{transform:`translateY(${this.rowHeightsCache().query(this.rows.length-1)}px)`,position:"absolute"}),this.rowTrackingFn=(e,t)=>this.ghostLoadingIndicator?e:this.trackByProp?t[this.trackByProp]:this.getRowIndex(t)}ngOnInit(){this.rowDetail&&(this.listener=this.rowDetail.toggle.subscribe(({type:e,value:t})=>this.toggleStateChange(e,t))),this.groupHeader&&(this.listener=this.groupHeader.toggle.subscribe(({type:e,value:t})=>{this.groupExpansionDefault=!1,this.toggleStateChange(e,t)}))}toggleStateChange(e,t){(e==="group"||e==="row")&&this.toggleRowExpansion(t),e==="all"&&this.toggleAllRows(t),this.updateIndexes(),this.cd.markForCheck()}ngOnDestroy(){(this.rowDetail||this.groupHeader)&&this.listener.unsubscribe()}updateOffsetY(e){if(this.scroller){if(this.scrollbarV&&this.virtualization&&e){let t=this.pageSize*e;e=this.rowHeightsCache().query(t-1)}else this.scrollbarV&&!this.virtualization&&(e=0);this.scroller.setOffset(e||0)}}onBodyScroll(e){let t=e.scrollYPos,i=e.scrollXPos;(this.offsetY!==t||this.offsetX!==i)&&this.scroll.emit({offsetY:t,offsetX:i}),this.offsetY=t,this.offsetX=i,this.updateIndexes(),this.updatePage(e.direction),this.cd.detectChanges()}updatePage(e){let t=this.indexes().first/this.pageSize,i=!Number.isInteger(t);e==="up"?t=Math.ceil(t):e==="down"&&(t=Math.floor(t)),e!==void 0&&!isNaN(t)&&t!==this._offsetEvent&&(this._offsetEvent=t,i&&this.scrollbarV&&this.virtualization&&this.externalPaging&&(!this.rows[this.indexes().first-1]&&e==="up"&&this.page.emit(t-1),!this.rows[this.indexes().first+this.pageSize]&&e==="down"&&this.page.emit(t+1)),this.page.emit(t))}updateRows(){let{first:e,last:t}=this.indexes(),i=e,s=0,a=[];if(this.groupedRows)for(;i<t&&i<this.groupedRows.length;){let l=this.groupedRows[i];this.rowIndexes.set(l,i),l.value&&l.value.forEach((d,f)=>{let F=`${i}-${f}`;this.rowIndexes.set(d,F)}),a[s]=l,s++,i++}else for(;i<t&&i<this.rowCount;){let l=this.rows[i];l?(this.rowIndexes.set(l,i),a[s]=l):this.ghostLoadingIndicator&&this.virtualization&&(a[s]=void 0),s++,i++}return a}getRowHeight(e){return typeof this.rowHeight=="function"?this.rowHeight(e):this.rowHeight}getGroupHeight(e){let t=0;if(e.value)for(let i=0;i<e.value.length;i++)t+=this.getRowAndDetailHeight(e.value[i]);return t}getRowAndDetailHeight(e){let t=this.getRowHeight(e);return this.getRowExpanded(e)&&(t+=this.getDetailRowHeight(e)),t}updateIndexes(){let e=0,t=0;if(this.scrollbarV)if(this.virtualization){let i=parseInt(this._bodyHeight,10);e=this.rowHeightsCache().getRowIndex(this.offsetY),t=this.rowHeightsCache().getRowIndex(i+this.offsetY)+1}else e=0,t=this.rowCount;else this.externalPaging||(e=Math.max(this.offset*this.pageSize,0)),t=Math.min(e+this.pageSize,this.rowCount);this.indexes.set({first:e,last:t})}refreshRowHeightCache(){if(!(!this.scrollbarV||this.scrollbarV&&!this.virtualization)&&(this.rowHeightsCache().clearCache(),this.rows&&this.rows.length)){let e=new Set;if(this.rowDetail)for(let t of this.rows)this.getRowExpanded(t)&&e.add(t);this.rowHeightsCache().initCache({rows:this.rows,rowHeight:this.rowHeight,detailRowHeight:this.getDetailRowHeight,externalVirtual:this.scrollbarV&&this.externalPaging,rowCount:this.rowCount,rowIndexes:this.rowIndexes,rowExpansions:e}),this.rowHeightsCache.set(Object.create(this.rowHeightsCache()))}}getAdjustedViewPortIndex(){let e=this.indexes().first;return this.scrollbarV&&this.virtualization&&this.rowHeightsCache().query(e-1)<=this.offsetY?e-1:e}toggleRowExpansion(e){let t=this.getAdjustedViewPortIndex(),i=this.getRowExpandedIdx(e,this.rowExpansions),s=i>-1;if(this.scrollbarV&&this.virtualization){let a=this.getDetailRowHeight(e)*(s?-1:1),l=this.getRowIndex(e);this.rowHeightsCache().update(l,a)}s?this.rowExpansions.splice(i,1):this.rowExpansions.push(e),this.detailToggle.emit({rows:[e],currentIndex:t})}toggleAllRows(e){this.rowExpansions=[];let t=this.getAdjustedViewPortIndex(),i=this.groupedRows??this.rows;if(e)for(let s of i)this.rowExpansions.push(s);this.scrollbarV&&this.recalcLayout(),this.detailToggle.emit({rows:i,currentIndex:t})}recalcLayout(){this.refreshRowHeightCache(),this.updateIndexes()}getRowExpanded(e){if(this.rowExpansions.length===0&&this.groupExpansionDefault)for(let t of this.groupedRows)this.rowExpansions.push(t);return this.getRowExpandedIdx(e,this.rowExpansions)>-1}getRowExpandedIdx(e,t){if(!t||!t.length)return-1;let i=this.rowIdentity(e);return t.findIndex(s=>this.rowIdentity(s)===i)}getRowIndex(e){return this.rowIndexes.get(e)||0}onTreeAction(e){this.treeAction.emit({row:e})}dragOver(e,t){e.preventDefault(),this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,eventType:"dragover",dragRow:this._draggedRow,dropRow:t})}drag(e,t,i){this._draggedRow=t,this._draggedRowElement=i._element,this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,eventType:"dragstart",dragRow:t})}drop(e,t,i){e.preventDefault(),this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,targetElement:i._element,eventType:"drop",dragRow:this._draggedRow,dropRow:t})}dragEnter(e,t,i){e.preventDefault(),this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,targetElement:i._element,eventType:"dragenter",dragRow:this._draggedRow,dropRow:t})}dragLeave(e,t,i){e.preventDefault(),this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,targetElement:i._element,eventType:"dragleave",dragRow:this._draggedRow,dropRow:t})}dragEnd(e,t){e.preventDefault(),this.rowDragEvents.emit({event:e,srcElement:this._draggedRowElement,eventType:"dragend",dragRow:t}),this._draggedRow=void 0,this._draggedRowElement=void 0}updateColumnGroupWidths(){let e=ee(this._columns);this.columnGroupWidths=ge(e,this._columns)}isGroup(e){return!!this.groupedRows}isRow(e){return!this.groupedRows}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-body"]],viewQuery:function(t,i){if(t&1&&U(ct,5),t&2){let s;H(s=R())&&(i.scroller=s.first)}},hostAttrs:[1,"datatable-body"],hostVars:4,hostBindings:function(t,i){t&2&&P("width",i.bodyWidth)("height",i.bodyHeight)},inputs:{rowDefTemplate:"rowDefTemplate",scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",loadingIndicator:"loadingIndicator",ghostLoadingIndicator:"ghostLoadingIndicator",externalPaging:"externalPaging",rowHeight:"rowHeight",offsetX:"offsetX",selectionType:"selectionType",selected:"selected",rowIdentity:"rowIdentity",rowDetail:"rowDetail",groupHeader:"groupHeader",selectCheck:"selectCheck",displayCheck:"displayCheck",trackByProp:"trackByProp",rowClass:"rowClass",groupedRows:"groupedRows",groupExpansionDefault:"groupExpansionDefault",innerWidth:"innerWidth",groupRowsBy:"groupRowsBy",virtualization:"virtualization",summaryRow:"summaryRow",summaryPosition:"summaryPosition",summaryHeight:"summaryHeight",rowDraggable:"rowDraggable",rowDragEvents:"rowDragEvents",disableRowCheck:"disableRowCheck",pageSize:"pageSize",rows:"rows",columns:"columns",offset:"offset",rowCount:"rowCount",bodyHeight:"bodyHeight",verticalScrollVisible:"verticalScrollVisible"},outputs:{scroll:"scroll",page:"page",activate:"activate",select:"select",detailToggle:"detailToggle",rowContextmenu:"rowContextmenu",treeAction:"treeAction"},ngContentSelectors:ft,decls:6,vars:11,consts:[["selector",""],["rowWrapper",""],["bodyRow",""],["rowElement",""],[1,"custom-loading-indicator-wrapper"],[1,"ghost-overlay",3,"columns","pageSize","rowHeight","ghostBodyHeight"],[3,"select","activate","selected","rows","selectCheck","disableCheck","selectEnabled","selectionType","rowIdentity"],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth"],[3,"scrollbarV","scrollbarH","scrollHeight","width"],[1,"custom-loading-content"],[3,"scroll","scrollbarV","scrollbarH","scrollHeight","scrollWidth"],[3,"rowHeight","offsetX","innerWidth","rows","columns"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","groupHeaderRowHeight","row","disableCheck","expanded","rowIndex","selected"],["role","row",3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns"],[3,"rowContextmenu","groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","groupHeaderRowHeight","row","disableCheck","expanded","rowIndex","selected"],[4,"rowDefInternal"],["role","row","tabindex","-1",3,"disable$","isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","ghostLoadingIndicator","draggable","verticalScrollVisible"],["role","row","tabindex","-1",3,"treeAction","activate","drop","dragover","dragenter","dragleave","dragstart","dragend","disable$","isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","ghostLoadingIndicator","draggable","verticalScrollVisible"],["role","row","tabindex","-1",3,"disable$","isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","ghostLoadingIndicator","draggable","verticalScrollVisible"],["role","row","tabindex","-1",3,"activate","drop","dragover","dragenter","dragleave","dragstart","dragend","disable$","isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","ghostLoadingIndicator","draggable","verticalScrollVisible"],[3,"scroll","scrollbarV","scrollbarH","scrollHeight"]],template:function(t,i){if(t&1){let s=I();te(pt),C(0,ri,3,0,"div",4),C(1,si,1,4,"ghost-loader",5),m(2,"datatable-selection",6,0),x("select",function(l){return u(s),g(i.select.emit(l))})("activate",function(l){return u(s),g(i.activate.emit(l))}),C(4,wi,5,6,"datatable-scroller",7),C(5,bi,2,5,"datatable-scroller",8),_()}t&2&&(y(i.loadingIndicator?0:-1),h(),y(i.ghostLoadingIndicator&&(!i.rowCount||!i.virtualization||!i.scrollbarV)?1:-1),h(),w("selected",i.selected)("rows",i.rows)("selectCheck",i.selectCheck)("disableCheck",i.disableRowCheck)("selectEnabled",i.selectEnabled)("selectionType",i.selectionType)("rowIdentity",i.rowIdentity),h(2),y(i.rows!=null&&i.rows.length?4:-1),h(),y(!(i.rows!=null&&i.rows.length)&&!i.loadingIndicator&&!i.ghostLoadingIndicator?5:-1))},dependencies:[_t,mn,ct,pn,hn,Fe,cn,wt,Ge],encapsulation:2,changeDetection:0});let n=o;return n})(),Ct=(()=>{let o=class o{constructor(){this.document=b(Se),this.width=this.getWidth()}getWidth(){let e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",this.document.body.appendChild(e);let t=e.offsetWidth;e.style.overflow="scroll";let i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);let s=i.offsetWidth;return e.parentNode.removeChild(e),t-s}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})(),_n=(()=>{let o=class o{constructor(){this.pressEnabled=!0,this.duration=500,this.longPressStart=new p,this.longPressing=new p,this.longPressEnd=new p,this.mouseX=0,this.mouseY=0}get press(){return this.pressing}get isLongPress(){return this.isLongPressing}onMouseDown(e){if(e.which!==1||!this.pressEnabled||e.target.classList.contains("resize-handle"))return;this.mouseX=e.clientX,this.mouseY=e.clientY,this.pressing=!0,this.isLongPressing=!1;let i=Z(document,"mouseup");this.subscription=i.subscribe(s=>this.onMouseup()),this.timeout=setTimeout(()=>{this.isLongPressing=!0,this.longPressStart.emit({event:e,model:this.pressModel}),this.subscription.add(Z(document,"mousemove").pipe(pe(i)).subscribe(s=>this.onMouseMove(s))),this.loop(e)},this.duration),this.loop(e)}onMouseMove(e){if(this.pressing&&!this.isLongPressing){let t=Math.abs(e.clientX-this.mouseX)>10,i=Math.abs(e.clientY-this.mouseY)>10;(t||i)&&this.endPress()}}loop(e){this.isLongPressing&&(this.timeout=setTimeout(()=>{this.longPressing.emit({event:e,model:this.pressModel}),this.loop(e)},50))}endPress(){clearTimeout(this.timeout),this.isLongPressing=!1,this.pressing=!1,this._destroySubscription(),this.longPressEnd.emit({model:this.pressModel})}onMouseup(){this.endPress()}ngOnDestroy(){clearTimeout(this.timeout),this._destroySubscription()}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","long-press",""]],hostVars:4,hostBindings:function(t,i){t&1&&x("mousedown",function(a){return i.onMouseDown(a)}),t&2&&L("press",i.press)("longpress",i.isLongPress)},inputs:{pressEnabled:[2,"pressEnabled","pressEnabled",T],pressModel:"pressModel",duration:[2,"duration","duration",V]},outputs:{longPressStart:"longPressStart",longPressing:"longPressing",longPressEnd:"longPressEnd"}});let n=o;return n})(),wn=(()=>{let o=class o{constructor(){this.renderer=b(Re),this.resizeEnabled=!0,this.resize=new p,this.resizing=new p,this.element=b(q).nativeElement}ngAfterViewInit(){let e=this.renderer;this.resizeHandle=e.createElement("span"),this.resizeEnabled?e.addClass(this.resizeHandle,"resize-handle"):e.addClass(this.resizeHandle,"resize-handle--not-resizable"),e.appendChild(this.element,this.resizeHandle)}ngOnDestroy(){this._destroySubscription(),this.renderer.destroyNode?this.renderer.destroyNode(this.resizeHandle):this.resizeHandle&&this.renderer.removeChild(this.renderer.parentNode(this.resizeHandle),this.resizeHandle)}onMouseup(){this.subscription&&!this.subscription.closed&&(this._destroySubscription(),this.resize.emit(this.element.clientWidth))}onMousedown(e){let t=e.target.classList.contains("resize-handle"),i=this.element.clientWidth,s=e.screenX;if(t){e.stopPropagation();let a=Z(document,"mouseup");this.subscription=a.subscribe(d=>this.onMouseup());let l=Z(document,"mousemove").pipe(pe(a)).subscribe(d=>this.move(d,i,s));this.subscription.add(l)}}move(e,t,i){let s=e.screenX-i,a=t+s;this.resizing.emit(a)}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","resizeable",""]],hostVars:2,hostBindings:function(t,i){t&1&&x("mousedown",function(a){return i.onMousedown(a)}),t&2&&L("resizeable",i.resizeEnabled)},inputs:{resizeEnabled:[2,"resizeEnabled","resizeEnabled",T],minWidth:[2,"minWidth","minWidth",V],maxWidth:[2,"maxWidth","maxWidth",V]},outputs:{resize:"resize",resizing:"resizing"}});let n=o;return n})();function bn(n,o){if(n===ye.single)return o===A.asc?A.desc:A.asc;if(o){if(o===A.asc)return A.desc;if(o===A.desc)return}else return A.asc}function Cn(n,o){if((n===null||typeof n>"u")&&(n=0),(o===null||typeof o>"u")&&(o=0),n instanceof Date&&o instanceof Date){if(n<o)return-1;if(n>o)return 1}else if(isNaN(parseFloat(n))||!isFinite(n)||isNaN(parseFloat(o))||!isFinite(o)){if(n=String(n),o=String(o),n.toLowerCase()<o.toLowerCase())return-1;if(n.toLowerCase()>o.toLowerCase())return 1}else{if(parseFloat(n)<parseFloat(o))return-1;if(parseFloat(n)>parseFloat(o))return 1}return 0}function Le(n,o,r){if(!n)return[];if(!r||!r.length||!o)return[...n];let e=new Map;n.forEach((a,l)=>e.set(a,l));let t=[...n],i=o.reduce((a,l)=>(l.comparator&&typeof l.comparator=="function"&&(a[l.prop]=l.comparator),a),{}),s=r.map(a=>{let l=a.prop;return{prop:l,dir:a.dir,valueGetter:Xe(l),compareFn:i[l]||Cn}});return t.sort(function(a,l){for(let d of s){let{prop:f,valueGetter:F}=d,M=F(a,f),G=F(l,f),v=d.dir!==A.desc?d.compareFn(M,G,a,l,d.dir):-d.compareFn(M,G,a,l,d.dir);if(v!==0)return v}return e.has(a)&&e.has(l)?e.get(a)<e.get(l)?-1:1:0})}function yn(n,o,r,e){return e&&(n=Le(n,o,[{dir:e.dir,prop:"key"}])),n.map(t=>xe(Y({},t),{value:Le(t.value,o,r)}))}var xn=(()=>{let o=class o{set allRowsSelected(e){this._allRowsSelected=e,this.cellContext.allRowsSelected=e}get allRowsSelected(){return this._allRowsSelected}set column(e){this._column=e,this.cellContext.column=e,this.cd.markForCheck()}get column(){return this._column}set sorts(e){this._sorts=e,this.sortDir=this.calcSortDir(e),this.cellContext.sortDir=this.sortDir,this.sortClass=this.calcSortClass(this.sortDir),this.cd.markForCheck()}get sorts(){return this._sorts}get columnCssClasses(){let e="datatable-header-cell";if(this.column.sortable&&(e+=" sortable"),this.column.resizeable&&(e+=" resizeable"),this.column.headerClass){if(typeof this.column.headerClass=="string")e+=" "+this.column.headerClass;else if(typeof this.column.headerClass=="function"){let i=this.column.headerClass({column:this.column});if(typeof i=="string")e+=" "+i;else if(typeof i=="object"){let s=Object.keys(i);for(let a of s)i[a]===!0&&(e+=` ${a}`)}}}let t=this.sortDir;return t&&(e+=` sort-active sort-${t}`),e}get name(){return this.column.headerTemplate===void 0?this.column.name:void 0}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get width(){return this.column.width}get tabindex(){return this.column.sortable?0:-1}get isCheckboxable(){return this.column.headerCheckboxable}constructor(){this.cd=b(K),this.enableClearingSortState=!1,this.sort=new p,this.select=new p,this.columnContextmenu=new p(!1),this.totalSortStatesApplied=0,this.cellContext={column:this.column,sortDir:this.sortDir,sortFn:()=>this.onSort(),allRowsSelected:this.allRowsSelected,selectFn:()=>this.select.emit()}}onContextmenu(e){this.columnContextmenu.emit({event:e,column:this.column})}enter(){this.onSort()}ngOnInit(){this.sortClass=this.calcSortClass(this.sortDir),this.sortDir&&(this.totalSortStatesApplied=1)}calcSortDir(e){if(e&&this.column){let t=e.find(i=>i.prop===this.column.prop);if(t)return t.dir}}onSort(){if(!this.column.sortable)return;this.totalSortStatesApplied++;let e=bn(this.sortType,this.sortDir);this.enableClearingSortState&&this.totalSortStatesApplied===3&&(e=void 0,this.totalSortStatesApplied=0),this.sort.emit({column:this.column,prevValue:this.sortDir,newValue:e})}calcSortClass(e){if(this.cellContext.column.sortable)return e===A.asc?`sort-btn sort-asc ${this.sortAscendingIcon}`:e===A.desc?`sort-btn sort-desc ${this.sortDescendingIcon}`:`sort-btn ${this.sortUnsetIcon}`}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-header-cell"]],hostAttrs:[1,"datatable-header-cell"],hostVars:12,hostBindings:function(t,i){t&1&&x("contextmenu",function(a){return i.onContextmenu(a)})("keydown.enter",function(){return i.enter()}),t&2&&(Je("tabindex",i.tabindex),le("title",i.name),O(i.columnCssClasses),P("height",i.headerHeight,"px")("min-width",i.minWidth,"px")("max-width",i.maxWidth,"px")("width",i.width,"px"))},inputs:{sortType:"sortType",sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",isTarget:"isTarget",targetMarkerTemplate:"targetMarkerTemplate",targetMarkerContext:"targetMarkerContext",enableClearingSortState:"enableClearingSortState",allRowsSelected:"allRowsSelected",selectionType:"selectionType",column:"column",headerHeight:"headerHeight",sorts:"sorts"},outputs:{sort:"sort",select:"select",columnContextmenu:"columnContextmenu"},decls:6,vars:5,consts:[[1,"datatable-header-cell-template-wrap"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-checkbox"],[1,"datatable-header-cell-wrapper"],[3,"click"],["type","checkbox",3,"change","checked"],[1,"datatable-header-cell-label","draggable",3,"click"]],template:function(t,i){t&1&&(m(0,"div",0),C(1,yi,1,2,null,1),C(2,xi,2,1,"label",2),C(3,Ti,1,2,null,1)(4,Di,3,1,"span",3),m(5,"span",4),x("click",function(){return i.onSort()}),_()()),t&2&&(h(),y(i.isTarget?1:-1),h(),y(i.isCheckboxable?2:-1),h(),y(i.column.headerTemplate?3:4),h(2),O(i.sortClass))},dependencies:[oe],encapsulation:2,changeDetection:0});let n=o;return n})(),vn=(()=>{let o=class o{constructor(){this.document=b(Se),this.reorder=new p,this.targetChanged=new p,this.differ=b(he).find({}).create()}ngAfterContentInit(){this.updateSubscriptions(),this.draggables.changes.subscribe(this.updateSubscriptions.bind(this))}ngOnDestroy(){this.draggables.forEach(e=>{e.dragStart.unsubscribe(),e.dragging.unsubscribe(),e.dragEnd.unsubscribe()})}updateSubscriptions(){let e=this.differ.diff(this.createMapDiffs());if(e){let t=s=>{i(s);let{currentValue:a}=s;a&&(a.dragStart.subscribe(this.onDragStart.bind(this)),a.dragging.subscribe(this.onDragging.bind(this)),a.dragEnd.subscribe(this.onDragEnd.bind(this)))},i=({previousValue:s})=>{s&&(s.dragStart.unsubscribe(),s.dragging.unsubscribe(),s.dragEnd.unsubscribe())};e.forEachAddedItem(t),e.forEachRemovedItem(i)}}onDragStart(){this.positions={};let e=0;for(let t of this.draggables.toArray()){let i=t.element,s=parseInt(i.offsetLeft.toString(),0);this.positions[t.dragModel.$$id]={left:s,right:s+parseInt(i.offsetWidth.toString(),0),index:e++,element:i}}}onDragging({element:e,model:t,event:i}){let s=this.positions[t.$$id],a=this.isTarget(t,i);a?this.lastDraggingIndex!==a.i&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,newIndex:a.i,initialIndex:s.index}),this.lastDraggingIndex=a.i):this.lastDraggingIndex!==s.index&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,initialIndex:s.index}),this.lastDraggingIndex=s.index)}onDragEnd({element:e,model:t,event:i}){let s=this.positions[t.$$id],a=this.isTarget(t,i);a&&this.reorder.emit({prevIndex:s.index,newIndex:a.i,model:t}),this.lastDraggingIndex=void 0,e.style.left="auto"}isTarget(e,t){let i=0,s=t.x||t.clientX,a=t.y||t.clientY,l=this.document.elementsFromPoint(s,a);for(let d in this.positions){let f=this.positions[d];if(e.$$id!==d&&l.find(F=>F===f.element))return{pos:f,i};i++}}createMapDiffs(){return this.draggables.toArray().reduce((e,t)=>(e[t.dragModel.$$id]=t,e),{})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","orderable",""]],contentQueries:function(t,i,s){if(t&1&&B(s,Ge,5),t&2){let a;H(a=R())&&(i.draggables=a)}},outputs:{reorder:"reorder",targetChanged:"targetChanged"}});let n=o;return n})(),dt=(()=>{let o=class o{constructor(){this.cd=b(K),this.scrollbarHelper=b(Ct),this.enableClearingSortState=!1,this.verticalScrollVisible=!1,this.sort=new p,this.reorder=new p,this.resize=new p,this.resizing=new p,this.select=new p,this.columnContextmenu=new p(!1),this._columnGroupWidths={total:100},this._styleByGroup={left:{},center:{},right:{}},this.destroyed=!1}set innerWidth(e){this._innerWidth=e,setTimeout(()=>{if(this._columns){let t=ee(this._columns);this._columnGroupWidths=ge(t,this._columns),this.setStylesByGroup()}})}get innerWidth(){return this._innerWidth}set headerHeight(e){e!=="auto"?this._headerHeight=`${e}px`:this._headerHeight=e}get headerHeight(){return this._headerHeight}set columns(e){this._columns=e;let t=ee(e);this._columnsByPin=mt(e),setTimeout(()=>{this._columnGroupWidths=ge(t,e),this.setStylesByGroup()})}get columns(){return this._columns}set offsetX(e){this._offsetX=e,this.setStylesByGroup()}get offsetX(){return this._offsetX}ngOnChanges(e){e.verticalScrollVisible&&(this._styleByGroup.right=this.calcStylesByGroup("right"),this.destroyed||this.cd.detectChanges())}ngOnDestroy(){this.destroyed=!0}onLongPressStart({event:e,model:t}){t.dragging=!0,this.dragEventTarget=e}onLongPressEnd({model:e}){this.dragEventTarget=void 0,setTimeout(()=>{let t=this._columns.find(i=>i.$$id===e.$$id);t&&"dragging"in t&&(t.dragging=!1)},5)}get headerWidth(){return this.scrollbarH?(this.verticalScrollVisible?this.innerWidth-this.scrollbarHelper.width:this.innerWidth)+"px":"100%"}onColumnResized(e,t){this.resize.emit(this.makeResizeEvent(e,t))}onColumnResizing(e,t){this.resizing.emit(this.makeResizeEvent(e,t))}makeResizeEvent(e,t){return e<=t.minWidth?e=t.minWidth:e>=t.maxWidth&&(e=t.maxWidth),{column:t,prevValue:t.width,newValue:e}}onColumnReordered({prevIndex:e,newIndex:t,model:i}){let s=this.getColumn(t);s.isTarget=!1,s.targetMarkerContext=void 0,this.reorder.emit({column:i,prevValue:e,newValue:t})}onTargetChanged({prevIndex:e,newIndex:t,initialIndex:i}){if(e||e===0){let s=this.getColumn(e);s.isTarget=!1,s.targetMarkerContext=void 0}if(t||t===0){let s=this.getColumn(t);s.isTarget=!0,i!==t&&(s.targetMarkerContext={class:"targetMarker ".concat(i>t?"dragFromRight":"dragFromLeft")})}}getColumn(e){let t=this._columnsByPin[0].columns.length;if(e<t)return this._columnsByPin[0].columns[e];let i=this._columnsByPin[1].columns.length;return e<t+i?this._columnsByPin[1].columns[e-t]:this._columnsByPin[2].columns[e-t-i]}onSort({column:e,prevValue:t,newValue:i}){if(e.dragging)return;let s=this.calcNewSorts(e,t,i);this.sort.emit({sorts:s,column:e,prevValue:t,newValue:i})}calcNewSorts(e,t,i){let s=0;this.sorts||(this.sorts=[]);let a=this.sorts.map((l,d)=>(l=Y({},l),l.prop===e.prop&&(s=d),l));return i===void 0?a.splice(s,1):t?a[s].dir=i:(this.sortType===ye.single&&a.splice(0,this.sorts.length),a.push({dir:i,prop:e.prop})),a}setStylesByGroup(){this._styleByGroup.left=this.calcStylesByGroup("left"),this._styleByGroup.center=this.calcStylesByGroup("center"),this._styleByGroup.right=this.calcStylesByGroup("right"),this.destroyed||this.cd.detectChanges()}calcStylesByGroup(e){let t=this._columnGroupWidths;return e==="center"?{transform:`translateX(${this.offsetX*-1}px)`,width:`${t[e]}px`,willChange:"transform"}:{width:`${t[e]}px`}}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-header"]],hostAttrs:[1,"datatable-header"],hostVars:4,hostBindings:function(t,i){t&2&&P("height",i.headerHeight)("width",i.headerWidth)},inputs:{sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",scrollbarH:"scrollbarH",dealsWithGroup:"dealsWithGroup",targetMarkerTemplate:"targetMarkerTemplate",enableClearingSortState:"enableClearingSortState",innerWidth:"innerWidth",sorts:"sorts",sortType:"sortType",allRowsSelected:"allRowsSelected",selectionType:"selectionType",reorderable:"reorderable",verticalScrollVisible:"verticalScrollVisible",headerHeight:"headerHeight",columns:"columns",offsetX:"offsetX"},outputs:{sort:"sort",reorder:"reorder",resize:"resize",resizing:"resizing",select:"select",columnContextmenu:"columnContextmenu"},features:[J],decls:3,vars:2,consts:[["role","row","orderable","",1,"datatable-header-inner",3,"reorder","targetChanged"],[3,"class","ngStyle"],[3,"ngStyle"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","enableClearingSortState"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resize","resizing","longPressStart","longPressEnd","sort","select","columnContextmenu","resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","enableClearingSortState"]],template:function(t,i){t&1&&(m(0,"div",0),x("reorder",function(a){return i.onColumnReordered(a)})("targetChanged",function(a){return i.onTargetChanged(a)}),Q(1,Hi,3,3,"div",1,ut),_()),t&2&&(P("width",i._columnGroupWidths.total,"px"),h(),N(i._columnsByPin))},dependencies:[vn,Fe,xn,wn,_n,Ge],encapsulation:2,changeDetection:0});let n=o;return n})();function Tn(n,o,r){r=r||{};let e,t,i,s=null,a=0;function l(){a=r.leading===!1?0:+new Date,s=null,i=n.apply(e,t)}return function(){let d=+new Date;!a&&r.leading===!1&&(a=d);let f=o-(d-a);return e=this,t=arguments,f<=0?(clearTimeout(s),s=null,a=d,i=n.apply(e,t)):!s&&r.trailing!==!1&&(s=setTimeout(l,f)),i}}function Dn(n,o){return function(e,t,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:i.enumerable,value:Tn(i.value,n,o)}),this[t]}}}}function Sn(n){let o=0;for(let r of n)o+=r.flexGrow||0;return o}function Hn(n,o){let r=sn(n),e=Sn(n),t=ee(n);r!==o&&Rn(t,o,e)}function Rn(n,o,r){for(let l in n)if(l in n)for(let d of n[l])d.$$oldWidth&&(d.canAutoResize=!1),d.canAutoResize?d.width=0:(o-=d.width,r-=d.flexGrow?d.flexGrow:0);let e={},t=o;do{let l=t/r;t=0;for(let d in n)if(d in n){for(let f of n[d])if(f.canAutoResize&&!e[f.prop]){let F=f.width+f.flexGrow*l;f.minWidth!==void 0&&F<f.minWidth?(t+=F-f.minWidth,f.width=f.minWidth,e[f.prop]=!0):f.width=F}}}while(t!==0);let i=Object.values(n).reduce((l,d)=>l.concat(d),[]),s=i.reduce((l,d)=>l+d.width,0),a=o-s;if(a!==0){for(let l of i.filter(d=>d.canAutoResize).sort((d,f)=>d.width-f.width))if(a>0&&(!l.maxWidth||l.width+a<=l.maxWidth)||a<0&&(!l.minWidth||l.width+a>=l.minWidth)){l.width+=a;break}}}function kn(n,o,r,e,t=150,i=0){let s=n.slice(r+1,n.length).filter(v=>v.canAutoResize!==!1);for(let v of s)v.$$oldWidth||(v.$$oldWidth=v.width);let a=0,l=!1,d=ht(n,t),f=o-d,F=f,M=[],G=1;do{a=f/s.length,l=d>=o;for(let v of s){if(l&&e&&F!==-1*i)v.width=v.$$oldWidth||v.width||t;else{let se=(v.width||t)+a;v.minWidth&&se<v.minWidth?(v.width=v.minWidth,M.push(v)):v.maxWidth&&se>v.maxWidth?(v.width=v.maxWidth,M.push(v)):v.width=se}v.width=Math.max(0,v.width)}d=ht(n,t),f=o-d,In(s,M)}while(f>G&&s.length!==0);for(let v of s)v.$$oldWidth=0}function In(n,o){for(let r of o){let e=n.indexOf(r);n.splice(e,1)}}function ht(n,o=150){let r=0;for(let e of n)r+=e.width||o;return r}var En=(()=>{let o=class o{constructor(){this.change=new p,this._count=0,this._page=1,this._size=0}set size(e){this._size=e,this.pages=this.calcPages()}get size(){return this._size}set count(e){this._count=e,this.pages=this.calcPages()}get count(){return this._count}set page(e){this._page=e,this.pages=this.calcPages()}get page(){return this._page}get totalPages(){let e=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(e||0,1)}canPrevious(){return this.page>1}canNext(){return this.page<this.totalPages}prevPage(){this.selectPage(this.page-1)}nextPage(){this.selectPage(this.page+1)}selectPage(e){e>0&&e<=this.totalPages&&e!==this.page&&(this.page=e,this.change.emit({page:e}))}calcPages(e){let t=[],i=1,s=this.totalPages,a=5,l=a<this.totalPages;e=e||this.page,l&&(i=e-Math.floor(a/2),s=e+Math.floor(a/2),i<1?(i=1,s=Math.min(i+a-1,this.totalPages)):s>this.totalPages&&(i=Math.max(this.totalPages-a+1,1),s=this.totalPages));for(let d=i;d<=s;d++)t.push({number:d,text:d});return t}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-pager"]],hostAttrs:[1,"datatable-pager"],inputs:{pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",size:"size",count:"count",page:"page"},outputs:{change:"change"},decls:15,vars:16,consts:[[1,"pager"],["role","button","aria-label","go to first page",3,"click"],["role","button","aria-label","go to previous page",3,"click"],["role","button",1,"pages",3,"active"],["role","button","aria-label","go to next page",3,"click"],["role","button","aria-label","go to last page",3,"click"],["role","button",1,"pages"],[3,"click"]],template:function(t,i){t&1&&(m(0,"ul",0)(1,"li")(2,"a",1),x("click",function(){return i.selectPage(1)}),E(3,"i"),_()(),m(4,"li")(5,"a",2),x("click",function(){return i.prevPage()}),E(6,"i"),_()(),Q(7,ki,3,4,"li",3,Ri),m(9,"li")(10,"a",4),x("click",function(){return i.nextPage()}),E(11,"i"),_()(),m(12,"li")(13,"a",5),x("click",function(){return i.selectPage(i.totalPages)}),E(14,"i"),_()()()),t&2&&(h(),L("disabled",!i.canPrevious()),h(2),O(i.pagerPreviousIcon),h(),L("disabled",!i.canPrevious()),h(2),O(i.pagerLeftArrowIcon),h(),N(i.pages),h(2),L("disabled",!i.canNext()),h(2),O(i.pagerRightArrowIcon),h(),L("disabled",!i.canNext()),h(2),O(i.pagerNextIcon))},encapsulation:2,changeDetection:0});let n=o;return n})(),Pn=(()=>{let o=class o{constructor(){this.selectedCount=0,this.page=new p}get isVisible(){return this.rowCount/this.pageSize>1}get curPage(){return this.offset+1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-footer"]],hostAttrs:[1,"datatable-footer"],inputs:{footerHeight:"footerHeight",rowCount:"rowCount",pageSize:"pageSize",offset:"offset",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",totalMessage:"totalMessage",footerTemplate:"footerTemplate",selectedCount:"selectedCount",selectedMessage:"selectedMessage"},outputs:{page:"page"},decls:3,vars:6,consts:[[1,"datatable-footer-inner",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-count"],[3,"change","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden"]],template:function(t,i){t&1&&(m(0,"div",0),C(1,Vi,1,8,null,1)(2,Mi,4,11),_()),t&2&&(P("height",i.footerHeight,"px"),w("ngClass",me(4,Ii,i.selectedMessage)),h(),y(i.footerTemplate?1:2))},dependencies:[at,oe,En],encapsulation:2,changeDetection:0});let n=o;return n})(),Vn=(()=>{let o=class o{constructor(){this.element=b(q),this.zone=b(Ke),this.isVisible=!1,this.visible=new p}ngOnInit(){this.runCheck()}ngOnDestroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{let{offsetHeight:t,offsetWidth:i}=this.element.nativeElement;t&&i?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),50)}))};this.timeout=setTimeout(()=>e())}};o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=k({type:o,selectors:[["","visibilityObserver",""]],hostVars:2,hostBindings:function(t,i){t&2&&L("visible",i.isVisible)},outputs:{visible:"visible"}});let n=o;return n})(),Fn=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["datatable-progress"]],decls:3,vars:0,consts:[["role","progressbar",1,"progress-linear"],[1,"container"],[1,"bar"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1),E(2,"div",2),_()())},encapsulation:2,changeDetection:0});let n=o;return n})(),eo=(()=>{let o=class o{set rows(e){this._rows=e,this.rowDiffer.diff([]),e&&(this._internalRows=[...e])}get rows(){return this._rows}set groupRowsBy(e){e&&(this._groupRowsBy=e,this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)))}get groupRowsBy(){return this._groupRowsBy}set columns(e){e&&(this._internalColumns=[...e],lt(this._internalColumns,this._defaultColumnWidth),this.recalculateColumns()),this._columns=e}get columns(){return this._columns}set limit(e){this._limit=e,this.recalculate()}get limit(){return this._limit}set count(e){this._count=e,this.recalculate()}get count(){return this._count}set offset(e){this._offset=e}get offset(){return Math.max(Math.min(this._offset,Math.ceil(this.rowCount/this.pageSize)-1),0)}set ghostLoadingIndicator(e){this._ghostLoadingIndicator=e,e&&this.scrollbarV&&!this.externalPaging&&(this.rows=[...this.rows??[],void 0])}get ghostLoadingIndicator(){return this._ghostLoadingIndicator}get isFixedHeader(){let e=this.headerHeight;return typeof e=="string"?e!=="auto":!0}get isFixedRow(){return this.rowHeight!=="auto"}get isVertScroll(){return this.scrollbarV}get isVirtualized(){return this.virtualization}get isHorScroll(){return this.scrollbarH}get isSelectable(){return this.selectionType!==void 0}get isCheckboxSelection(){return this.selectionType===X.checkbox}get isCellSelection(){return this.selectionType===X.cell}get isSingleSelection(){return this.selectionType===X.single}get isMultiSelection(){return this.selectionType===X.multi}get isMultiClickSelection(){return this.selectionType===X.multiClick}get allRowsSelected(){let e=this.rows&&this.selected&&this.selected.length===this.rows.length;if(this.bodyComponent&&this.selectAllRowsOnPage){let t=this.bodyComponent.indexes,i=t().last-t().first;e=this.selected.length===i}return this.selected&&this.rows&&this.rows.length!==0&&e}constructor(){this.scrollbarHelper=b(Ct),this.cd=b(K),this.columnChangesService=b(Ae),this.configuration=b("configuration",{optional:!0}),this.selected=[],this.scrollbarV=!1,this.scrollbarVDynamic=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=be.standard,this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.reorderable=!0,this.swapColumns=!0,this.sortType=ye.single,this.sorts=[],this.cssClasses={sortAscending:"datatable-icon-up",sortDescending:"datatable-icon-down",sortUnset:"datatable-icon-sort-unset",pagerLeftArrow:"datatable-icon-left",pagerRightArrow:"datatable-icon-right",pagerPrevious:"datatable-icon-prev",pagerNext:"datatable-icon-skip"},this.messages={emptyMessage:"No data to display",totalMessage:"total",selectedMessage:"selected"},this.groupExpansionDefault=!1,this.selectAllRowsOnPage=!1,this.virtualization=!0,this.summaryRow=!1,this.summaryHeight=30,this.summaryPosition="top",this.rowDraggable=!1,this.enableClearingSortState=!1,this.scroll=new p,this.activate=new p,this.select=new p,this.sort=new p,this.page=new p,this.reorder=new p,this.resize=new p,this.tableContextmenu=new p(!1),this.treeAction=new p,this.rowDragEvents=new p,this.element=b(q).nativeElement,this.rowDiffer=b(he).find([]).create(),this.rowCount=0,this._offsetX=new ve(0),this._count=0,this._offset=0,this._subscriptions=[],this._ghostLoadingIndicator=!1,this.verticalScrollVisible=!1,this._rowInitDone=ae(!1),this.rowIdentity=e=>this._groupRowsBy?e.key??e:e,this.configuration&&(this.configuration.messages&&(this.messages=Y({},this.configuration.messages)),this.configuration.cssClasses&&(this.cssClasses=Y({},this.configuration.cssClasses)),this.headerHeight=this.configuration.headerHeight??this.headerHeight,this.footerHeight=this.configuration.footerHeight??this.footerHeight,this.rowHeight=this.configuration.rowHeight??this.rowHeight,this._defaultColumnWidth=this.configuration.defaultColumnWidth??150)}ngOnInit(){this.recalculate()}ngAfterViewInit(){typeof requestAnimationFrame>"u"||requestAnimationFrame(()=>{this.recalculate(),this.externalPaging&&this.scrollbarV&&this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:0})})}ngAfterContentInit(){this.columnTemplates.length&&this.translateColumns(this.columnTemplates),this._subscriptions.push(this.columnTemplates.changes.subscribe(e=>this.translateColumns(e))),this.listenForColumnInputChanges()}translateColumns(e){if(e){let t=e.toArray();t.length&&(this._internalColumns=Ui(t),lt(this._internalColumns,this._defaultColumnWidth),this.recalculateColumns(),!this.externalSorting&&this.rows?.length&&this.sortInternalRows(),this.cd.markForCheck())}}groupArrayBy(e,t){let i=new Map,s=0;e.forEach(l=>{let d=l[t];i.has(d)?i.get(d).push(l):i.set(d,[l]),s++});let a=(l,d)=>({key:l,value:d});return Array.from(i,l=>a(l[0],l[1]))}ngDoCheck(){let e=this.rowDiffer.diff(this.rows);(e||this.disableRowCheck)&&(!this.ghostLoadingIndicator&&!this.externalSorting&&this._internalColumns?this.sortInternalRows():this._internalRows=[...this.rows],this._internalRows=Me(this._internalRows,re(this.treeFromRelation),re(this.treeToRelation)),this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)),e&&queueMicrotask(()=>{this._rowInitDone.set(!0),this.recalculate(),this.cd.markForCheck()}),this.recalculatePages(),this.cd.markForCheck())}recalculate(){this.recalculateDims(),this.recalculateColumns(),this.cd.markForCheck()}onWindowResize(){this.recalculate()}recalculateColumns(e=this._internalColumns,t=-1,i=this.scrollbarH){let s=this._innerWidth;if(!e||!s)return;let a=this.bodyElement?.nativeElement;return this.verticalScrollVisible=a?.scrollHeight>a?.clientHeight,(this.scrollbarV||this.scrollbarVDynamic)&&(s=s-(this.verticalScrollVisible||!this._rowInitDone()?this.scrollbarHelper.width:0)),this.columnMode===be.force?kn(e,s,t,i,this._defaultColumnWidth,this.scrollbarHelper.width):this.columnMode===be.flex&&Hn(e,s),this.bodyComponent&&this.bodyComponent.columnGroupWidths.total!==s&&(this.bodyComponent.columns=[...this._internalColumns],this.bodyComponent.cd.markForCheck()),this.headerComponent&&this.headerComponent._columnGroupWidths.total!==s&&(this.headerComponent.columns=[...this._internalColumns]),e}recalculateDims(){let e=this.element.getBoundingClientRect();if(this._innerWidth=Math.floor(e.width),this.scrollbarV){let t=e.height;this.headerHeight&&(t=t-this.headerHeight),this.footerHeight&&(t=t-this.footerHeight),this.bodyHeight=t}this.recalculatePages()}recalculatePages(){this.pageSize=this.calcPageSize(),this.rowCount=this.calcRowCount()}onBodyPage(e){this.externalPaging&&!this.virtualization||(this.offset=e,isNaN(this.offset)||this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}))}onBodyScroll(e){this._offsetX.next(e.offsetX),this.scroll.emit(e),this.cd.detectChanges()}onFooterPage(e){this.offset=e.page-1,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected}))}calcPageSize(){if(this.scrollbarV&&this.virtualization){let e=Math.ceil(this.bodyHeight/this.rowHeight);return Math.max(e,0)}return this.limit!==void 0?this.limit:this.rows?this.rows.length:0}calcRowCount(){return this.externalPaging?this.count:this.rows?this.groupedRows?this.groupedRows.length:this.treeFromRelation!=null&&this.treeToRelation!=null?this._internalRows.length:this.rows.length:0}onColumnContextmenu({event:e,column:t}){this.tableContextmenu.emit({event:e,type:$e.header,content:t})}onRowContextmenu({event:e,row:t}){this.tableContextmenu.emit({event:e,type:$e.body,content:t})}onColumnResize({column:e,newValue:t,prevValue:i}){if(e===void 0)return;let s,a=this._internalColumns.map((l,d)=>(l=Y({},l),l.$$id===e.$$id&&(s=d,l.width=t,l.$$oldWidth=t),l));this.recalculateColumns(a,s),this._internalColumns=a,this.resize.emit({column:e,newValue:t,prevValue:i})}onColumnResizing({column:e,newValue:t}){if(e===void 0)return;e.width=t,e.$$oldWidth=t;let i=this._internalColumns.indexOf(e);this.recalculateColumns(this._internalColumns,i)}onColumnReorder({column:e,newValue:t,prevValue:i}){let s=this._internalColumns.map(a=>Y({},a));if(this.swapColumns){let a=s[t];s[t]=e,s[i]=a}else if(t>i){let a=s[i];for(let l=i;l<t;l++)s[l]=s[l+1];s[t]=a}else{let a=s[i];for(let l=i;l>t;l--)s[l]=s[l-1];s[t]=a}this._internalColumns=s,this.reorder.emit({column:e,newValue:t,prevValue:i})}onColumnSort(e){this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected})),this.sorts=e.sorts,this.externalSorting===!1&&this.sortInternalRows(),this._internalRows=Me(this._internalRows,re(this.treeFromRelation),re(this.treeToRelation)),this.offset=0,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.sort.emit(e)}onHeaderSelect(){if(this.bodyComponent&&this.selectAllRowsOnPage){let e=this.bodyComponent.indexes().first,t=this.bodyComponent.indexes().last,i=this.selected.length===t-e;this.selected=[],i||this.selected.push(...this._internalRows.slice(e,t))}else{let e;this.disableRowCheck?e=this.rows.filter(i=>!this.disableRowCheck(i)):e=this.rows;let t=this.selected.length===e.length;this.selected=[],t||this.selected.push(...e)}this.select.emit({selected:this.selected})}onBodySelect(e){this.select.emit(e)}onTreeAction(e){let t=e.row,i=this._rows.findIndex(s=>s[this.treeToRelation]===e.row[this.treeToRelation]);this.treeAction.emit({row:t,rowIndex:i})}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}listenForColumnInputChanges(){this._subscriptions.push(this.columnChangesService.columnInputChanges$.subscribe(()=>{this.columnTemplates&&this.columnTemplates.notifyOnChanges()}))}sortInternalRows(){if((!this.sorts||!this.sorts?.length)&&(this._internalRows=this._rows,this.treeFromRelation&&this.treeToRelation&&(this._internalRows=Me(this._internalRows,re(this.treeFromRelation),re(this.treeToRelation)))),this.groupedRows&&this.groupedRows.length){let e=this.sorts?.find(t=>t.prop===this._groupRowsBy);this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy),this.groupedRows=yn(this.groupedRows,this._internalColumns,this.sorts,e),this._internalRows=[...this._internalRows]}else this._internalRows=Le(this._internalRows,this._internalColumns,this.sorts)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=z({type:o,selectors:[["ngx-datatable"]],contentQueries:function(t,i,s){if(t&1&&(B(s,on,5),B(s,Oi,5),B(s,rn,5),B(s,ln,5,W),B(s,tn,4)),t&2){let a;H(a=R())&&(i.rowDetail=a.first),H(a=R())&&(i.groupHeader=a.first),H(a=R())&&(i.footer=a.first),H(a=R())&&(i.rowDefTemplate=a.first),H(a=R())&&(i.columnTemplates=a)}},viewQuery:function(t,i){if(t&1&&(U(Be,5),U(dt,5),U(Be,5,q)),t&2){let s;H(s=R())&&(i.bodyComponent=s.first),H(s=R())&&(i.headerComponent=s.first),H(s=R())&&(i.bodyElement=s.first)}},hostAttrs:[1,"ngx-datatable"],hostVars:22,hostBindings:function(t,i){t&1&&x("resize",function(){return i.onWindowResize()},je),t&2&&L("fixed-header",i.isFixedHeader)("fixed-row",i.isFixedRow)("scroll-vertical",i.isVertScroll)("virtualized",i.isVirtualized)("scroll-horz",i.isHorScroll)("selectable",i.isSelectable)("checkbox-selection",i.isCheckboxSelection)("cell-selection",i.isCellSelection)("single-selection",i.isSingleSelection)("multi-selection",i.isMultiSelection)("multi-click-selection",i.isMultiClickSelection)},inputs:{targetMarkerTemplate:"targetMarkerTemplate",rows:"rows",groupRowsBy:"groupRowsBy",groupedRows:"groupedRows",columns:"columns",selected:"selected",scrollbarV:[2,"scrollbarV","scrollbarV",T],scrollbarVDynamic:[2,"scrollbarVDynamic","scrollbarVDynamic",T],scrollbarH:[2,"scrollbarH","scrollbarH",T],rowHeight:"rowHeight",columnMode:"columnMode",headerHeight:[2,"headerHeight","headerHeight",V],footerHeight:[2,"footerHeight","footerHeight",V],externalPaging:[2,"externalPaging","externalPaging",T],externalSorting:[2,"externalSorting","externalSorting",T],limit:[2,"limit","limit",V],count:[2,"count","count",V],offset:[2,"offset","offset",V],loadingIndicator:[2,"loadingIndicator","loadingIndicator",T],ghostLoadingIndicator:[2,"ghostLoadingIndicator","ghostLoadingIndicator",T],selectionType:"selectionType",reorderable:[2,"reorderable","reorderable",T],swapColumns:[2,"swapColumns","swapColumns",T],sortType:"sortType",sorts:"sorts",cssClasses:"cssClasses",messages:"messages",rowClass:"rowClass",selectCheck:"selectCheck",displayCheck:"displayCheck",groupExpansionDefault:[2,"groupExpansionDefault","groupExpansionDefault",T],trackByProp:"trackByProp",selectAllRowsOnPage:[2,"selectAllRowsOnPage","selectAllRowsOnPage",T],virtualization:[2,"virtualization","virtualization",T],treeFromRelation:"treeFromRelation",treeToRelation:"treeToRelation",summaryRow:[2,"summaryRow","summaryRow",T],summaryHeight:[2,"summaryHeight","summaryHeight",V],summaryPosition:"summaryPosition",disableRowCheck:"disableRowCheck",rowDraggable:[2,"rowDraggable","rowDraggable",T],enableClearingSortState:[2,"enableClearingSortState","enableClearingSortState",T],rowIdentity:"rowIdentity"},outputs:{scroll:"scroll",activate:"activate",select:"select",sort:"sort",page:"page",reorder:"reorder",resize:"resize",tableContextmenu:"tableContextmenu",treeAction:"treeAction",rowDragEvents:"rowDragEvents"},features:[it([{provide:bt,useExisting:o},Ae])],ngContentSelectors:ft,decls:10,vars:39,consts:[["visibilityObserver","",3,"visible"],["role","table"],["role","rowgroup",3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","verticalScrollVisible","enableClearingSortState"],["tabindex","0","role","rowgroup",3,"page","activate","rowContextmenu","select","scroll","treeAction","groupRowsBy","groupedRows","rows","groupExpansionDefault","scrollbarV","scrollbarH","virtualization","loadingIndicator","ghostLoadingIndicator","externalPaging","rowHeight","rowCount","offset","trackByProp","columns","pageSize","offsetX","rowDetail","groupHeader","selected","innerWidth","bodyHeight","selectionType","rowIdentity","rowClass","selectCheck","displayCheck","summaryRow","summaryHeight","summaryPosition","verticalScrollVisible","disableRowCheck","rowDraggable","rowDragEvents","rowDefTemplate"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon"],["role","rowgroup",3,"sort","resize","resizing","reorder","select","columnContextmenu","sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","verticalScrollVisible","enableClearingSortState"],[1,"empty-row",3,"innerHTML"],[3,"page","rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon"]],template:function(t,i){t&1&&(te(pt),m(0,"div",0),x("visible",function(){return i.recalculate()}),m(1,"div",1),C(2,zi,2,19,"datatable-header",2),m(3,"datatable-body",3),ce(4,"async"),x("page",function(a){return i.onBodyPage(a)})("activate",function(a){return i.activate.emit(a)})("rowContextmenu",function(a){return i.onRowContextmenu(a)})("select",function(a){return i.onBodySelect(a)})("scroll",function(a){return i.onBodyScroll(a)})("treeAction",function(a){return i.onTreeAction(a)}),j(5,0,["ngProjectAs","[loading-indicator]",5,["","loading-indicator",""]],Bi,1,0),j(7,1,["ngProjectAs","[empty-content]",5,["","empty-content",""]],Ai,1,1),_()(),C(9,Wi,1,12,"datatable-footer",4),_()),t&2&&(h(2),y(i.headerHeight?2:-1),h(),w("groupRowsBy",i.groupRowsBy)("groupedRows",i.groupedRows)("rows",i._internalRows)("groupExpansionDefault",i.groupExpansionDefault)("scrollbarV",i.scrollbarV)("scrollbarH",i.scrollbarH)("virtualization",i.virtualization)("loadingIndicator",i.loadingIndicator)("ghostLoadingIndicator",i.ghostLoadingIndicator)("externalPaging",i.externalPaging)("rowHeight",i.rowHeight)("rowCount",i.rowCount)("offset",i.offset)("trackByProp",i.trackByProp)("columns",i._internalColumns)("pageSize",i.pageSize)("offsetX",de(4,37,i._offsetX))("rowDetail",i.rowDetail)("groupHeader",i.groupHeader)("selected",i.selected)("innerWidth",i._innerWidth)("bodyHeight",i.bodyHeight)("selectionType",i.selectionType)("rowIdentity",i.rowIdentity)("rowClass",i.rowClass)("selectCheck",i.selectCheck)("displayCheck",i.displayCheck)("summaryRow",i.summaryRow)("summaryHeight",i.summaryHeight)("summaryPosition",i.summaryPosition)("verticalScrollVisible",i.verticalScrollVisible)("disableRowCheck",i.disableRowCheck)("rowDraggable",i.rowDraggable)("rowDragEvents",i.rowDragEvents)("rowDefTemplate",i.rowDefTemplate),h(6),y(i.footerHeight?9:-1))},dependencies:[Vn,dt,Be,Pn,_e,Fn],styles:[`.ngx-datatable{display:block;overflow:hidden;justify-content:center;position:relative;transform:translateZ(0)}.ngx-datatable [hidden]{display:none!important}.ngx-datatable *,.ngx-datatable *:before,.ngx-datatable *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.ngx-datatable.scroll-vertical .datatable-body{overflow-y:auto}.ngx-datatable.scroll-vertical.virtualized .datatable-body .datatable-row-wrapper{position:absolute}.ngx-datatable.scroll-horz .datatable-body{overflow-x:auto;-webkit-overflow-scrolling:touch}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner{white-space:nowrap}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner .datatable-header-cell{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ngx-datatable.fixed-row .datatable-scroll,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row{white-space:nowrap}.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-cell,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-group-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ngx-datatable .datatable-body-row,.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-header-inner{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;flex-direction:row;-webkit-flex-flow:row;-moz-flex-flow:row;-ms-flex-flow:row;-o-flex-flow:row;flex-flow:row}.ngx-datatable .datatable-body-cell,.ngx-datatable .datatable-header-cell{overflow-x:hidden;vertical-align:top;display:inline-block;line-height:1.625}.ngx-datatable .datatable-body-cell:focus,.ngx-datatable .datatable-header-cell:focus{outline:none}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-right,.ngx-datatable .datatable-group-header{z-index:9;position:sticky!important}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-group-header{left:0}.ngx-datatable .datatable-row-right{right:0}.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-row-group{position:relative}.ngx-datatable .datatable-header{display:block;overflow:hidden}.ngx-datatable .datatable-header .datatable-header-inner{align-items:stretch;-webkit-align-items:stretch}.ngx-datatable .datatable-header .datatable-header-cell{position:relative;display:inline-block}.ngx-datatable .datatable-header .datatable-header-cell.sortable .datatable-header-cell-wrapper{cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell.longpress .datatable-header-cell-wrapper{cursor:move}.ngx-datatable .datatable-header .datatable-header-cell .sort-btn{line-height:100%;vertical-align:middle;display:inline-block;cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell .resize-handle--not-resizable{display:inline-block;position:absolute;right:0;top:0;bottom:0;width:5px;padding:0 4px;visibility:hidden}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle{cursor:ew-resize}.ngx-datatable .datatable-header .datatable-header-cell.resizeable:hover .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell:hover .resize-handle--not-resizable{visibility:visible}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker{position:absolute;top:0;bottom:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromLeft{right:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromRight{left:0}.ngx-datatable .datatable-header .datatable-header-cell .datatable-header-cell-template-wrap{height:inherit}.ngx-datatable .datatable-body{position:relative;z-index:10;display:block;overflow:hidden}.ngx-datatable .datatable-body .datatable-scroll{display:inline-block}.ngx-datatable .datatable-body .datatable-row-detail{overflow-y:hidden}.ngx-datatable .datatable-body .datatable-row-wrapper{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ngx-datatable .datatable-body .datatable-body-row{outline:none}.ngx-datatable .datatable-body .datatable-body-row>div{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.ngx-datatable .datatable-footer{display:block;width:100%;overflow:auto}.ngx-datatable .datatable-footer .datatable-footer-inner{display:flex;align-items:center;width:100%}.ngx-datatable .datatable-footer .selected-count .page-count{flex:1 1 40%}.ngx-datatable .datatable-footer .selected-count .datatable-pager{flex:1 1 60%}.ngx-datatable .datatable-footer .page-count{flex:1 1 20%}.ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%;text-align:right}.ngx-datatable .datatable-footer .datatable-pager .pager,.ngx-datatable .datatable-footer .datatable-pager .pager li{padding:0;margin:0;display:inline-block;list-style:none}.ngx-datatable .datatable-footer .datatable-pager .pager li,.ngx-datatable .datatable-footer .datatable-pager .pager li a{outline:none}.ngx-datatable .datatable-footer .datatable-pager .pager li a{cursor:pointer;display:inline-block}.ngx-datatable .datatable-footer .datatable-pager .pager li.disabled a{cursor:not-allowed}
`],encapsulation:2,changeDetection:0});let n=o;return Ne([Dn(5)],n.prototype,"onWindowResize",null),n})();var to=(()=>{let o=class o{static forRoot(e){return{ngModule:o,providers:[{provide:"configuration",useValue:e}]}}};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=Ue({type:o}),o.\u0275inj=Ye({});let n=o;return n})();export{Zi as a,tn as b,nn as c,on as d,X as e,eo as f,to as g};
