import{P as p,U as c,Wb as g,Yb as m,_ as a,b as l,ia as i,ja as b}from"./chunk-QGBYADUF.js";function y(t){t||(t=a(i));let e=new l(n=>{if(t.destroyed){n.next();return}return t.onDestroy(n.next.bind(n))});return n=>n.pipe(p(e))}var v=class{source;destroyed=!1;destroyRef=a(i);constructor(e){this.source=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}subscribe(e){if(this.destroyed)throw new c(953,!1);let n=this.source.pipe(y(this.destroyRef)).subscribe({next:s=>e(s)});return{unsubscribe:()=>n.unsubscribe()}}};function F(t,e){return new v(t)}function L(t){let e=g(t);return new l(n=>{let s=e?.onDestroy(()=>n.complete()),u=t.subscribe(r=>n.next(r));return()=>{u.unsubscribe(),s?.()}})}function N(t,e){let s=!e?.manualCleanup?e?.injector?.get(i)??a(i):null,u=D(e?.equal),r;e?.requireSync?r=b({kind:0},{equal:u}):r=b({kind:1,value:e?.initialValue},{equal:u});let d,f=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{r.set({kind:2,error:o}),d?.()},complete:()=>{d?.()}});if(e?.requireSync&&r().kind===0)throw new c(601,!1);return d=s?.onDestroy(f.unsubscribe.bind(f)),m(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new c(601,!1)}},{equal:e?.equal})}function D(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}export{y as a,F as b,L as c,N as d};
